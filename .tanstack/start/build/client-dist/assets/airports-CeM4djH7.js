import{c as ve,r as l,a as je,j as e,b as Ce,v as S,w as R,P as j,d as x,x as ye,u as I,y as Ne,z as Ae,A as be,D as De,F as Se,E as Re,G as Ie,f as C,X as $,I as z,B as v,o as Ee,J as Oe,K as we,s as _e,N as Pe,O as Te,Q as ke,t as M,C as F,h as L,i as B,l as G,m as W}from"./main-Bt9JGKqn.js";import{u as Me,a as Fe}from"./useAirports-D3rSrCu7.js";import{a as Le}from"./alert-B_6A4nCc.js";import{E as Be}from"./config-E9PhRRCg.js";import{B as H}from"./badge-DpZ8TZHu.js";import{M as Ge}from"./MapView-BDQrTzqD.js";import{A as We}from"./AirportSearchBar-D-M_hrxm.js";import{S as $e,L as ze}from"./LocationList-BVZ1sNik.js";import"./useQuery-t-Rchcwv.js";import"./circle-alert-Aq6ifIPX.js";/* empty css                */import"./input-CI4WR4HK.js";import"./search-hEFOytY_.js";import"./select-CaEkAdgq.js";import"./navigation-DnyJmP0f.js";import"./globe-J2Z3WNma.js";/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],Ve=ve("Scale",He);var A="Dialog",[V,kt]=Ce(A),[Ke,p]=V(A),K=t=>{const{__scopeDialog:a,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:c=!0}=t,d=l.useRef(null),i=l.useRef(null),[u,h]=je({prop:n,defaultProp:s??!1,onChange:o,caller:A});return e.jsx(Ke,{scope:a,triggerRef:d,contentRef:i,contentId:S(),titleId:S(),descriptionId:S(),open:u,onOpenChange:h,onOpenToggle:l.useCallback(()=>h(b=>!b),[h]),modal:c,children:r})};K.displayName=A;var J="DialogTrigger",Je=l.forwardRef((t,a)=>{const{__scopeDialog:r,...n}=t,s=p(J,r),o=I(a,s.triggerRef);return e.jsx(j.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":w(s.open),...n,ref:o,onClick:x(t.onClick,s.onOpenToggle)})});Je.displayName=J;var E="DialogPortal",[Xe,X]=V(E,{forceMount:void 0}),Z=t=>{const{__scopeDialog:a,forceMount:r,children:n,container:s}=t,o=p(E,a);return e.jsx(Xe,{scope:a,forceMount:r,children:l.Children.map(n,c=>e.jsx(R,{present:r||o.open,children:e.jsx(ye,{asChild:!0,container:s,children:c})}))})};Z.displayName=E;var N="DialogOverlay",U=l.forwardRef((t,a)=>{const r=X(N,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=p(N,t.__scopeDialog);return o.modal?e.jsx(R,{present:n||o.open,children:e.jsx(Ue,{...s,ref:a})}):null});U.displayName=N;var Ze=be("DialogOverlay.RemoveScroll"),Ue=l.forwardRef((t,a)=>{const{__scopeDialog:r,...n}=t,s=p(N,r);return e.jsx(Ae,{as:Ze,allowPinchZoom:!0,shards:[s.contentRef],children:e.jsx(j.div,{"data-state":w(s.open),...n,ref:a,style:{pointerEvents:"auto",...n.style}})})}),g="DialogContent",Q=l.forwardRef((t,a)=>{const r=X(g,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=p(g,t.__scopeDialog);return e.jsx(R,{present:n||o.open,children:o.modal?e.jsx(Qe,{...s,ref:a}):e.jsx(Ye,{...s,ref:a})})});Q.displayName=g;var Qe=l.forwardRef((t,a)=>{const r=p(g,t.__scopeDialog),n=l.useRef(null),s=I(a,r.contentRef,n);return l.useEffect(()=>{const o=n.current;if(o)return Ne(o)},[]),e.jsx(Y,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:x(t.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:x(t.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&o.preventDefault()}),onFocusOutside:x(t.onFocusOutside,o=>o.preventDefault())})}),Ye=l.forwardRef((t,a)=>{const r=p(g,t.__scopeDialog),n=l.useRef(!1),s=l.useRef(!1);return e.jsx(Y,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=t.onCloseAutoFocus)==null||c.call(t,o),o.defaultPrevented||(n.current||(d=r.triggerRef.current)==null||d.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var i,u;(i=t.onInteractOutside)==null||i.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Y=l.forwardRef((t,a)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...c}=t,d=p(g,r),i=l.useRef(null),u=I(a,i);return De(),e.jsxs(e.Fragment,{children:[e.jsx(Se,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:e.jsx(Re,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":w(d.open),...c,ref:u,onDismiss:()=>d.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(qe,{titleId:d.titleId}),e.jsx(tt,{contentRef:i,descriptionId:d.descriptionId})]})]})}),O="DialogTitle",q=l.forwardRef((t,a)=>{const{__scopeDialog:r,...n}=t,s=p(O,r);return e.jsx(j.h2,{id:s.titleId,...n,ref:a})});q.displayName=O;var ee="DialogDescription",te=l.forwardRef((t,a)=>{const{__scopeDialog:r,...n}=t,s=p(ee,r);return e.jsx(j.p,{id:s.descriptionId,...n,ref:a})});te.displayName=ee;var ae="DialogClose",oe=l.forwardRef((t,a)=>{const{__scopeDialog:r,...n}=t,s=p(ae,r);return e.jsx(j.button,{type:"button",...n,ref:a,onClick:x(t.onClick,()=>s.onOpenChange(!1))})});oe.displayName=ae;function w(t){return t?"open":"closed"}var se="DialogTitleWarning",[Mt,re]=Ie(se,{contentName:g,titleName:O,docsSlug:"dialog"}),qe=({titleId:t})=>{const a=re(se),r=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return l.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},et="DialogDescriptionWarning",tt=({contentRef:t,descriptionId:a})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${re(et).contentName}}.`;return l.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");a&&s&&(document.getElementById(a)||console.warn(n))},[n,t,a]),null},at=K,ot=Z,st=U,rt=Q,nt=q,it=te,lt=oe;function ct({...t}){return e.jsx(at,{"data-slot":"sheet",...t})}function dt({...t}){return e.jsx(ot,{"data-slot":"sheet-portal",...t})}function ut({className:t,...a}){return e.jsx(st,{"data-slot":"sheet-overlay",className:C("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function mt({className:t,children:a,side:r="right",...n}){return e.jsxs(dt,{children:[e.jsx(ut,{}),e.jsxs(rt,{"data-slot":"sheet-content",className:C("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...n,children:[a,e.jsxs(lt,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[e.jsx($,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function pt({className:t,...a}){return e.jsx("div",{"data-slot":"sheet-header",className:C("flex flex-col gap-1.5 p-4",t),...a})}function ft({className:t,...a}){return e.jsx(nt,{"data-slot":"sheet-title",className:C("text-foreground font-semibold",t),...a})}function gt({className:t,...a}){return e.jsx(it,{"data-slot":"sheet-description",className:C("text-muted-foreground text-sm",t),...a})}function ht({open:t,onOpenChange:a}){const{comparedAirports:r,removeFromComparison:n,clearComparison:s}=z(),o=i=>`${i.toLocaleString()} ft (${Math.round(i*.3048)} m)`,c=(i,u)=>`${i.toFixed(4)}°, ${u.toFixed(4)}°`,d=[{key:"iata",label:"IATA Code"},{key:"icao",label:"ICAO Code"},{key:"name",label:"Name"},{key:"city",label:"City"},{key:"region",label:"Region"},{key:"country",label:"Country"},{key:"elevation_ft",label:"Elevation",format:i=>o(i)},{key:"coordinates",label:"Coordinates",getValue:i=>c(i.latitude,i.longitude)},{key:"timezone",label:"Timezone"}];return e.jsx(ct,{open:t,onOpenChange:a,children:e.jsxs(mt,{className:"w-full sm:max-w-4xl",children:[e.jsxs(pt,{children:[e.jsx(ft,{children:"Compare Airports"}),e.jsx(gt,{children:"Compare up to 3 airports side by side. Click the X button to remove an airport from comparison."})]}),r.length===0?e.jsx("div",{className:"flex items-center justify-center h-96 text-muted-foreground",children:"No airports selected for comparison"}):e.jsx($e,{className:"h-[calc(100vh-200px)] mt-6",children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(i=>e.jsxs("div",{className:"relative",children:[e.jsx(v,{variant:"ghost",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:()=>n(i.icao),children:e.jsx($,{className:"h-4 w-4"})}),e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsx("div",{className:"font-semibold text-lg truncate",children:i.name}),e.jsx(Ee,{}),d.map(u=>e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:u.label}),e.jsx("div",{className:"font-medium",children:u.getValue?u.getValue(i):u.format?u.format(i[u.key]):i[u.key]})]},u.key))]})]},i.icao))})})}),r.length>0&&e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(v,{variant:"outline",onClick:s,children:"Clear All"})})]})})}function xt({onClick:t}){const{comparedAirports:a}=z();return a.length===0?null:e.jsxs(v,{onClick:t,className:"fixed bottom-6 right-6 h-14 px-6 shadow-lg",size:"lg",children:[e.jsx(Ve,{className:"mr-2 h-5 w-5"}),"Compare",e.jsx(H,{variant:"secondary",className:"ml-2",children:a.length})]})}const Ft=function(){const a=Oe(),n=we.useSearch().code||"",[s,o]=l.useState(n),[c,d]=l.useState(null),[i,u]=l.useState(!1),{favoriteAirports:h,addFavoriteAirport:b,removeFavoriteAirport:ne,isFavoriteAirport:ie}=_e(),{addRecentAirport:_}=Pe(),{setSelectedAirport:D}=Te();if(!a({to:"/airports",exact:!0}))return e.jsx(ke,{});const le=s.length===3&&/^[A-Z]{3}$/i.test(s),ce=s.length===4&&/^[A-Z]{4}$/i.test(s),{data:de,isLoading:ue,error:me}=Me(s.toUpperCase(),{enabled:le}),{data:pe,isLoading:fe,error:ge}=Fe(s.toUpperCase(),{enabled:ce}),y=ue||fe,P=me||ge,f=de||pe,T=f?[f]:[];l.useEffect(()=>{f&&!y&&(d(f),D(f),_(f))},[f,y,_,D]);const he=()=>h.map(m=>m.iata),xe=m=>{ie(m.iata)?ne(m.iata):b({iata:m.iata,icao:m.icao,name:m.name,city:m.city,country:m.country})},k=m=>{d(m),D(m)};return e.jsxs("div",{className:"container py-8 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(M,{className:"h-8 w-8 text-primary"}),e.jsx("h1",{className:"text-3xl font-bold",children:"Airport Explorer"})]}),e.jsx("p",{className:"text-muted-foreground",children:"Search for airports worldwide by their IATA or ICAO codes. Get detailed information including location, elevation, and timezone."})]}),e.jsxs(F,{className:"mb-8",children:[e.jsxs(L,{children:[e.jsx(B,{children:"Search Airports"}),e.jsx(G,{children:"Enter an IATA (3-letter) or ICAO (4-letter) airport code"})]}),e.jsxs(W,{children:[e.jsx(We,{onSearch:o,placeholder:"Search by IATA or ICAO code...",defaultValue:n,isLoading:y,autoFocus:!n}),e.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[e.jsx("p",{className:"font-medium mb-2",children:"Popular airports to try:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{name:"Los Angeles",iata:"LAX",icao:"KLAX"},{name:"New York JFK",iata:"JFK",icao:"KJFK"},{name:"London Heathrow",iata:"LHR",icao:"EGLL"},{name:"Tokyo Haneda",iata:"HND",icao:"RJTT"},{name:"Dubai",iata:"DXB",icao:"OMDB"},{name:"Singapore",iata:"SIN",icao:"WSSS"}].map(m=>e.jsxs("div",{className:"flex gap-1",children:[e.jsx(v,{variant:"outline",size:"sm",onClick:()=>o(m.iata),className:"h-7",children:m.iata}),e.jsx(v,{variant:"outline",size:"sm",onClick:()=>o(m.icao),className:"h-7",children:m.icao}),e.jsx("span",{className:"text-xs text-muted-foreground self-center ml-1",children:m.name})]},m.iata))})]})]})]}),e.jsxs("div",{className:"mb-8 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(F,{children:[e.jsx(L,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(B,{className:"text-lg",children:"Airport Map"}),e.jsx(G,{className:"text-sm",children:"Click on markers to view airport details"})]}),e.jsxs(H,{variant:"outline",className:"gap-1",children:[e.jsx(M,{className:"h-3 w-3"}),"Interactive Map"]})]})}),e.jsx(W,{className:"p-0",children:e.jsx(Ge,{airports:T,selectedAirport:c,onAirportSelect:k,height:"525px",showControls:!0,useGlobalState:!0})})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(ze,{airports:T,selectedAirport:c,onAirportSelect:k,title:"Search Results",height:"600px",emptyMessage:s?"No airports found matching your search":"Search for airports to see them listed here",favoriteAirports:he(),onToggleFavorite:xe})})]}),P&&e.jsx(Be,{title:"Search Error",message:"Unable to search airports. Please try again.",error:P,showDetails:!0}),y&&e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(Le,{text:"Searching airports..."})}),e.jsx(xt,{onClick:()=>u(!0)}),e.jsx(ht,{open:i,onOpenChange:u})]})};export{Ft as component};
