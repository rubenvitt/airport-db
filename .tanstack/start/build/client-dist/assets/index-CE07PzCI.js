import{r as c,aD as w,a8 as h}from"./main-C72e0wOY.js";import{a as f}from"./leaflet-src-BOn6DA1B.js";function _(o,n){const e=c.useRef(n);c.useEffect(function(){n!==e.current&&o.attributionControl!=null&&(e.current!=null&&o.attributionControl.removeAttribution(e.current),n!=null&&o.attributionControl.addAttribution(n)),e.current=n},[o,n])}function G(o,n,e){n.center!==e.center&&o.setLatLng(n.center),n.radius!=null&&n.radius!==e.radius&&o.setRadius(n.radius)}const q=1;function X(o){return Object.freeze({__version:q,map:o})}function y(o,n){return Object.freeze({...o,...n})}const b=c.createContext(null);function v(){const o=c.use(b);if(o==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return o}function S(o){function n(e,t){const{instance:r,context:a}=o(e).current;c.useImperativeHandle(t,()=>r);const{children:u}=e;return u==null?null:w.createElement(b,{value:a},u)}return c.forwardRef(n)}function Y(o){function n(e,t){const[r,a]=c.useState(!1),{instance:u}=o(e,a).current;c.useImperativeHandle(t,()=>u),c.useEffect(function(){r&&u.update()},[u,r,e.children]);const i=u._contentNode;return i?h.createPortal(e.children,i):null}return c.forwardRef(n)}function z(o){function n(e,t){const{instance:r}=o(e).current;return c.useImperativeHandle(t,()=>r),null}return c.forwardRef(n)}function V(o){return function(e){const t=v(),r=o(e,t),{instance:a}=r.current,u=c.useRef(e.position),{position:i}=e;return c.useEffect(function(){return a.addTo(t.map),function(){a.remove()}},[t.map,a]),c.useEffect(function(){i!=null&&i!==u.current&&(a.setPosition(i),u.current=i)},[a,i]),r}}function I(o,n){const e=c.useRef(void 0);c.useEffect(function(){return n!=null&&o.instance.on(n),e.current=n,function(){e.current!=null&&o.instance.off(e.current),e.current=null}},[o,n])}function p(o,n){const e=o.pane??n.pane;return e?{...o,pane:e}:o}function K(o,n){return function(t,r){const a=v(),u=o(p(t,a),a);return _(a.map,t.attribution),I(u.current,t.eventHandlers),n(u.current,a,t,r),u}}function Q(o){return o.split(" ").filter(Boolean)}function ee(o,n){for(const e of Q(n))f.DomUtil.addClass(o,e)}function s(o,n,e){return Object.freeze({instance:o,context:n,container:e})}function E(o,n){return n==null?function(t,r){const a=c.useRef(void 0);return a.current||(a.current=o(t,r)),a}:function(t,r){const a=c.useRef(void 0);a.current||(a.current=o(t,r));const u=c.useRef(t),{instance:i}=a.current;return c.useEffect(function(){u.current!==t&&(n(i,t,u.current),u.current=t)},[i,t,n]),a}}function B(o,n){c.useEffect(function(){return(n.layerContainer??n.map).addLayer(o.instance),function(){var a;(a=n.layerContainer)==null||a.removeLayer(o.instance),n.map.removeLayer(o.instance)}},[n,o])}function M(o){return function(e){const t=v(),r=o(p(e,t),t);return _(t.map,e.attribution),I(r.current,e.eventHandlers),B(r.current,t),r}}function ne(o,n){const e=c.useRef(void 0);c.useEffect(function(){if(n.pathOptions!==e.current){const r=n.pathOptions??{};o.instance.setStyle(r),e.current=r}},[o,n])}function te(o){return function(e){const t=v(),r=o(p(e,t),t);return I(r.current,e.eventHandlers),B(r.current,t),ne(r.current,e),r}}function k(o){function n(r,a){return s(o(r),a)}const e=E(n),t=V(e);return z(t)}function R(o,n){const e=E(o,n),t=M(e);return S(t)}function A(o,n){const e=E(o),t=K(e,n);return Y(t)}function g(o,n){const e=E(o,n),t=te(e);return S(t)}function D(o,n){const e=E(o,n),t=M(e);return z(t)}function j(o,n,e){const{opacity:t,zIndex:r}=n;t!=null&&t!==e.opacity&&o.setOpacity(t),r!=null&&r!==e.zIndex&&o.setZIndex(r)}function H(o,n,e){n.bounds instanceof f.LatLngBounds&&n.bounds!==e.bounds&&o.setBounds(n.bounds),n.opacity!=null&&n.opacity!==e.opacity&&o.setOpacity(n.opacity),n.zIndex!=null&&n.zIndex!==e.zIndex&&o.setZIndex(n.zIndex)}function Z(){return v().map}function me(o,n){const e=Z();return c.useEffect(function(){return e.on(o,n),function(){e.off(o,n)}},[e,o,n]),e}function Ce(o){const n=Z();return c.useEffect(function(){return n.on(o),function(){n.off(o)}},[n,o]),n}const Le=k(function(n){return new f.Control.Attribution(n)}),ve=g(function({center:n,children:e,...t},r){const a=new f.Circle(n,t);return s(a,y(r,{overlayContainer:a}))},G),Ee=g(function({center:n,children:e,...t},r){const a=new f.CircleMarker(n,t);return s(a,y(r,{overlayContainer:a}))},G),ge=g(function({children:n,...e},t){const r=new f.FeatureGroup([],e);return s(r,y(t,{layerContainer:r,overlayContainer:r}))}),Oe=g(function({data:n,...e},t){const r=new f.GeoJSON(n,e);return s(r,y(t,{overlayContainer:r}))},function(n,e,t){e.style!==t.style&&(e.style==null?n.resetStyle():n.setStyle(e.style))}),we=R(function({bounds:n,url:e,...t},r){const a=new f.ImageOverlay(e,n,t);return s(a,y(r,{overlayContainer:a}))},function(n,e,t){if(H(n,e,t),e.bounds!==t.bounds){const r=e.bounds instanceof f.LatLngBounds?e.bounds:new f.LatLngBounds(e.bounds);n.setBounds(r)}e.url!==t.url&&n.setUrl(e.url)}),be=R(function({children:n,...e},t){const r=new f.LayerGroup([],e);return s(r,y(t,{layerContainer:r}))}),oe=E(function({children:n,...e},t){const r=new f.Control.Layers(void 0,void 0,e);return s(r,y(t,{layersControl:r}))},function(n,e,t){e.collapsed!==t.collapsed&&(e.collapsed===!0?n.collapse():n.expand())}),re=V(oe),J=S(re);function U(o){return function(e){const t=v(),r=c.useRef(e),[a,u]=c.useState(null),{layersControl:i,map:l}=t,d=c.useCallback(L=>{i!=null&&(r.current.checked&&l.addLayer(L),o(i,L,r.current.name),u(L))},[o,i,l]),m=c.useCallback(L=>{i==null||i.removeLayer(L),u(null)},[i]),P=c.useMemo(()=>y(t,{layerContainer:{addLayer:d,removeLayer:m}}),[t,d,m]);return c.useEffect(()=>{a!==null&&r.current!==e&&(e.checked===!0&&(r.current.checked==null||r.current.checked===!1)?l.addLayer(a):r.current.checked===!0&&(e.checked==null||e.checked===!1)&&l.removeLayer(a),r.current=e)}),e.children?w.createElement(b,{value:P},e.children):null}}J.BaseLayer=U(function(n,e,t){n.addBaseLayer(e,t)});J.Overlay=U(function(n,e,t){n.addOverlay(e,t)});function ae({bounds:o,boundsOptions:n,center:e,children:t,className:r,id:a,placeholder:u,style:i,whenReady:l,zoom:d,...m},P){const[L]=c.useState({className:r,id:a,style:i}),[C,F]=c.useState(null),T=c.useRef(void 0);c.useImperativeHandle(P,()=>(C==null?void 0:C.map)??null,[C]);const W=c.useCallback(x=>{if(x!==null&&!T.current){const O=new f.Map(x,m);T.current=O,e!=null&&d!=null?O.setView(e,d):o!=null&&O.fitBounds(o,n),l!=null&&O.whenReady(l),F(X(O))}},[]);c.useEffect(()=>()=>{C==null||C.map.remove()},[C]);const $=C?w.createElement(b,{value:C},t):u??null;return w.createElement("div",{...L,ref:W},$)}const pe=c.forwardRef(ae),Re=R(function({position:n,...e},t){const r=new f.Marker(n,e);return s(r,y(t,{overlayContainer:r}))},function(n,e,t){e.position!==t.position&&n.setLatLng(e.position),e.icon!=null&&e.icon!==t.icon&&n.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==t.zIndexOffset&&n.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==t.opacity&&n.setOpacity(e.opacity),n.dragging!=null&&e.draggable!==t.draggable&&(e.draggable===!0?n.dragging.enable():n.dragging.disable())}),ue=["mapPane","markerPane","overlayPane","popupPane","shadowPane","tilePane","tooltipPane"];function N(o,n){const{[n]:e,...t}=o;return t}function ce(o,n,e){if(ue.indexOf(o)!==-1)throw new Error(`You must use a unique name for a pane that is not a default Leaflet pane: ${o}`);if(e.map.getPane(o)!=null)throw new Error(`A pane with this name already exists: ${o}`);const t=n.pane??e.pane,r=t?e.map.getPane(t):void 0,a=e.map.createPane(o,r);if(n.className!=null&&ee(a,n.className),n.style!=null)for(const u of Object.keys(n.style))a.style[u]=n.style[u];return a}function ie(o,n){const[e]=c.useState(o.name),[t,r]=c.useState(null);c.useImperativeHandle(n,()=>t,[t]);const a=v(),u=c.useMemo(()=>({...a,pane:e}),[a]);return c.useEffect(()=>(r(ce(e,o,a)),function(){var d;const l=a.map.getPane(e);(d=l==null?void 0:l.remove)==null||d.call(l),a.map._panes!=null&&(a.map._panes=N(a.map._panes,e),a.map._paneRenderers=N(a.map._paneRenderers,e))}),[]),o.children!=null&&t!=null?h.createPortal(w.createElement(b,{value:u},o.children),t):null}const Pe=c.forwardRef(ie),he=g(function({positions:n,...e},t){const r=new f.Polygon(n,e);return s(r,y(t,{overlayContainer:r}))},function(n,e,t){e.positions!==t.positions&&n.setLatLngs(e.positions)}),Se=g(function({positions:n,...e},t){const r=new f.Polyline(n,e);return s(r,y(t,{overlayContainer:r}))},function(n,e,t){e.positions!==t.positions&&n.setLatLngs(e.positions)}),Ie=A(function(n,e){const t=new f.Popup(n,e.overlayContainer);return s(t,e)},function(n,e,{position:t},r){c.useEffect(function(){const{instance:u}=n;function i(d){d.popup===u&&(u.update(),r(!0))}function l(d){d.popup===u&&r(!1)}return e.map.on({popupopen:i,popupclose:l}),e.overlayContainer==null?(t!=null&&u.setLatLng(t),u.openOn(e.map)):e.overlayContainer.bindPopup(u),function(){var m;e.map.off({popupopen:i,popupclose:l}),(m=e.overlayContainer)==null||m.unbindPopup(),e.map.removeLayer(u)}},[n,e,r,t])}),Me=g(function({bounds:n,...e},t){const r=new f.Rectangle(n,e);return s(r,y(t,{overlayContainer:r}))},function(n,e,t){e.bounds!==t.bounds&&n.setBounds(e.bounds)}),ke=k(function(n){return new f.Control.Scale(n)}),le=E(function(n,e){const{attributes:t,bounds:r,...a}=n,u=document.createElementNS("http://www.w3.org/2000/svg","svg");if(u.setAttribute("xmlns","http://www.w3.org/2000/svg"),t!=null)for(const l of Object.keys(t))u.setAttribute(l,t[l]);const i=new f.SVGOverlay(u,r,a);return s(i,e,u)},H),fe=M(le);function se({children:o,...n},e){const{instance:t,container:r}=fe(n).current;return c.useImperativeHandle(e,()=>t),r==null||o==null?null:h.createPortal(o,r)}const He=c.forwardRef(se),Te=D(function({url:n,...e},t){const r=new f.TileLayer(n,p(e,t));return s(r,t)},function(n,e,t){j(n,e,t);const{url:r}=e;r!=null&&r!==t.url&&n.setUrl(r)}),xe=A(function(n,e){const t=new f.Tooltip(n,e.overlayContainer);return s(t,e)},function(n,e,{position:t},r){c.useEffect(function(){const u=e.overlayContainer;if(u==null)return;const{instance:i}=n,l=m=>{m.tooltip===i&&(t!=null&&i.setLatLng(t),i.update(),r(!0))},d=m=>{m.tooltip===i&&r(!1)};return u.on({tooltipopen:l,tooltipclose:d}),u.bindTooltip(i),function(){u.off({tooltipopen:l,tooltipclose:d}),u._map!=null&&u.unbindTooltip()}},[n,e,r,t])}),Ne=R(function({bounds:n,url:e,...t},r){var u;const a=new f.VideoOverlay(e,n,t);return t.play===!0&&((u=a.getElement())==null||u.play()),s(a,y(r,{overlayContainer:a}))},function(n,e,t){H(n,e,t),typeof e.url=="string"&&e.url!==t.url&&n.setUrl(e.url);const r=n.getElement();r!=null&&(e.play===!0&&!t.play?r.play():!e.play&&t.play===!0&&r.pause())}),_e=D(function({eventHandlers:n,params:e={},url:t,...r},a){const u=new f.TileLayer.WMS(t,{...e,...p(r,a)});return s(u,a)},function(n,e,t){j(n,e,t),e.params!=null&&e.params!==t.params&&n.setParams(e.params)}),Ge=k(function(n){return new f.Control.Zoom(n)});export{Le as AttributionControl,ve as Circle,Ee as CircleMarker,ge as FeatureGroup,Oe as GeoJSON,we as ImageOverlay,be as LayerGroup,J as LayersControl,pe as MapContainer,Re as Marker,Pe as Pane,he as Polygon,Se as Polyline,Ie as Popup,Me as Rectangle,He as SVGOverlay,ke as ScaleControl,Te as TileLayer,xe as Tooltip,Ne as VideoOverlay,_e as WMSTileLayer,Ge as ZoomControl,Z as useMap,me as useMapEvent,Ce as useMapEvents};
