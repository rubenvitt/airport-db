import{c as ue,r as l,a as me,j as e,b as fe,v as R,w as I,P as j,d as x,x as ge,u as E,y as pe,z as he,A as xe,D as ve,F as je,E as Ce,G as ye,f as C,X as M,I as L,B as v,o as Ne,J as Ae,O as be,K as De,s as Se,N as Re,t as Ie,C as Ee,h as Oe,i as we,l as _e,m as Te}from"./main-BWxbGju7.js";import{u as Pe,a as ke}from"./useAirports-C26EzAMe.js";import{E as Fe,a as Me}from"./config-Dkt3QMds.js";import{M as Le}from"./MapView-B2q710u3.js";import{A as Be}from"./AirportSearchBar-D5SyUwOT.js";import{S as We,L as $e}from"./LocationList-bAxrtsP1.js";import{B as ze}from"./badge-E_goFgSO.js";import"./useQuery-CZtkWYvj.js";import"./circle-alert-v-qz-Q6m.js";import"./input-Cedl6yVS.js";import"./search-Cj4S2qaK.js";import"./select-BbShGNVg.js";import"./navigation-BFH5KKYQ.js";import"./globe-C6MHbTIJ.js";/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],He=ue("Scale",Ge);var A="Dialog",[B,wt]=fe(A),[Ve,f]=B(A),W=t=>{const{__scopeDialog:a,children:s,open:n,defaultOpen:r,onOpenChange:o,modal:c=!0}=t,d=l.useRef(null),i=l.useRef(null),[u,p]=me({prop:n,defaultProp:r??!1,onChange:o,caller:A});return e.jsx(Ve,{scope:a,triggerRef:d,contentRef:i,contentId:R(),titleId:R(),descriptionId:R(),open:u,onOpenChange:p,onOpenToggle:l.useCallback(()=>p(b=>!b),[p]),modal:c,children:s})};W.displayName=A;var $="DialogTrigger",Ke=l.forwardRef((t,a)=>{const{__scopeDialog:s,...n}=t,r=f($,s),o=E(a,r.triggerRef);return e.jsx(j.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":_(r.open),...n,ref:o,onClick:x(t.onClick,r.onOpenToggle)})});Ke.displayName=$;var O="DialogPortal",[Je,z]=B(O,{forceMount:void 0}),G=t=>{const{__scopeDialog:a,forceMount:s,children:n,container:r}=t,o=f(O,a);return e.jsx(Je,{scope:a,forceMount:s,children:l.Children.map(n,c=>e.jsx(I,{present:s||o.open,children:e.jsx(ge,{asChild:!0,container:r,children:c})}))})};G.displayName=O;var N="DialogOverlay",H=l.forwardRef((t,a)=>{const s=z(N,t.__scopeDialog),{forceMount:n=s.forceMount,...r}=t,o=f(N,t.__scopeDialog);return o.modal?e.jsx(I,{present:n||o.open,children:e.jsx(Ze,{...r,ref:a})}):null});H.displayName=N;var Xe=xe("DialogOverlay.RemoveScroll"),Ze=l.forwardRef((t,a)=>{const{__scopeDialog:s,...n}=t,r=f(N,s);return e.jsx(he,{as:Xe,allowPinchZoom:!0,shards:[r.contentRef],children:e.jsx(j.div,{"data-state":_(r.open),...n,ref:a,style:{pointerEvents:"auto",...n.style}})})}),g="DialogContent",V=l.forwardRef((t,a)=>{const s=z(g,t.__scopeDialog),{forceMount:n=s.forceMount,...r}=t,o=f(g,t.__scopeDialog);return e.jsx(I,{present:n||o.open,children:o.modal?e.jsx(Ue,{...r,ref:a}):e.jsx(Qe,{...r,ref:a})})});V.displayName=g;var Ue=l.forwardRef((t,a)=>{const s=f(g,t.__scopeDialog),n=l.useRef(null),r=E(a,s.contentRef,n);return l.useEffect(()=>{const o=n.current;if(o)return pe(o)},[]),e.jsx(K,{...t,ref:r,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:x(t.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=s.triggerRef.current)==null||c.focus()}),onPointerDownOutside:x(t.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&o.preventDefault()}),onFocusOutside:x(t.onFocusOutside,o=>o.preventDefault())})}),Qe=l.forwardRef((t,a)=>{const s=f(g,t.__scopeDialog),n=l.useRef(!1),r=l.useRef(!1);return e.jsx(K,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=t.onCloseAutoFocus)==null||c.call(t,o),o.defaultPrevented||(n.current||(d=s.triggerRef.current)==null||d.focus(),o.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:o=>{var i,u;(i=t.onInteractOutside)==null||i.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const c=o.target;((u=s.triggerRef.current)==null?void 0:u.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&r.current&&o.preventDefault()}})}),K=l.forwardRef((t,a)=>{const{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:o,...c}=t,d=f(g,s),i=l.useRef(null),u=E(a,i);return ve(),e.jsxs(e.Fragment,{children:[e.jsx(je,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:o,children:e.jsx(Ce,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":_(d.open),...c,ref:u,onDismiss:()=>d.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(Ye,{titleId:d.titleId}),e.jsx(et,{contentRef:i,descriptionId:d.descriptionId})]})]})}),w="DialogTitle",J=l.forwardRef((t,a)=>{const{__scopeDialog:s,...n}=t,r=f(w,s);return e.jsx(j.h2,{id:r.titleId,...n,ref:a})});J.displayName=w;var X="DialogDescription",Z=l.forwardRef((t,a)=>{const{__scopeDialog:s,...n}=t,r=f(X,s);return e.jsx(j.p,{id:r.descriptionId,...n,ref:a})});Z.displayName=X;var U="DialogClose",Q=l.forwardRef((t,a)=>{const{__scopeDialog:s,...n}=t,r=f(U,s);return e.jsx(j.button,{type:"button",...n,ref:a,onClick:x(t.onClick,()=>r.onOpenChange(!1))})});Q.displayName=U;function _(t){return t?"open":"closed"}var Y="DialogTitleWarning",[_t,q]=ye(Y,{contentName:g,titleName:w,docsSlug:"dialog"}),Ye=({titleId:t})=>{const a=q(Y),s=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return l.useEffect(()=>{t&&(document.getElementById(t)||console.error(s))},[s,t]),null},qe="DialogDescriptionWarning",et=({contentRef:t,descriptionId:a})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${q(qe).contentName}}.`;return l.useEffect(()=>{var o;const r=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");a&&r&&(document.getElementById(a)||console.warn(n))},[n,t,a]),null},tt=W,ot=G,at=H,st=V,rt=J,nt=Z,it=Q;function lt({...t}){return e.jsx(tt,{"data-slot":"sheet",...t})}function ct({...t}){return e.jsx(ot,{"data-slot":"sheet-portal",...t})}function dt({className:t,...a}){return e.jsx(at,{"data-slot":"sheet-overlay",className:C("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function ut({className:t,children:a,side:s="right",...n}){return e.jsxs(ct,{children:[e.jsx(dt,{}),e.jsxs(st,{"data-slot":"sheet-content",className:C("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",s==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",s==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",s==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",s==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...n,children:[a,e.jsxs(it,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[e.jsx(M,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function mt({className:t,...a}){return e.jsx("div",{"data-slot":"sheet-header",className:C("flex flex-col gap-1.5 p-4",t),...a})}function ft({className:t,...a}){return e.jsx(rt,{"data-slot":"sheet-title",className:C("text-foreground font-semibold",t),...a})}function gt({className:t,...a}){return e.jsx(nt,{"data-slot":"sheet-description",className:C("text-muted-foreground text-sm",t),...a})}function pt({open:t,onOpenChange:a}){const{comparedAirports:s,removeFromComparison:n,clearComparison:r}=L(),o=i=>`${i.toLocaleString()} ft (${Math.round(i*.3048)} m)`,c=(i,u)=>`${i.toFixed(4)}°, ${u.toFixed(4)}°`,d=[{key:"iata",label:"IATA Code"},{key:"icao",label:"ICAO Code"},{key:"name",label:"Name"},{key:"city",label:"City"},{key:"region",label:"Region"},{key:"country",label:"Country"},{key:"elevation_ft",label:"Elevation",format:i=>o(i)},{key:"coordinates",label:"Coordinates",getValue:i=>c(i.latitude,i.longitude)},{key:"timezone",label:"Timezone"}];return e.jsx(lt,{open:t,onOpenChange:a,children:e.jsxs(ut,{className:"w-full sm:max-w-4xl",children:[e.jsxs(mt,{children:[e.jsx(ft,{children:"Compare Airports"}),e.jsx(gt,{children:"Compare up to 3 airports side by side. Click the X button to remove an airport from comparison."})]}),s.length===0?e.jsx("div",{className:"flex items-center justify-center h-96 text-muted-foreground",children:"No airports selected for comparison"}):e.jsx(We,{className:"h-[calc(100vh-200px)] mt-6",children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(i=>e.jsxs("div",{className:"relative",children:[e.jsx(v,{variant:"ghost",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:()=>n(i.icao),children:e.jsx(M,{className:"h-4 w-4"})}),e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsx("div",{className:"font-semibold text-lg truncate",children:i.name}),e.jsx(Ne,{}),d.map(u=>e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:u.label}),e.jsx("div",{className:"font-medium",children:u.getValue?u.getValue(i):u.format?u.format(i[u.key]):i[u.key]})]},u.key))]})]},i.icao))})})}),s.length>0&&e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(v,{variant:"outline",onClick:r,children:"Clear All"})})]})})}function ht({onClick:t}){const{comparedAirports:a}=L();return a.length===0?null:e.jsxs(v,{onClick:t,className:"fixed bottom-6 right-6 h-14 px-6 shadow-lg",size:"lg",children:[e.jsx(He,{className:"mr-2 h-5 w-5"}),"Compare",e.jsx(ze,{variant:"secondary",className:"ml-2",children:a.length})]})}const Tt=function(){if(!Ae()({to:"/airports",exact:!0}))return e.jsx(be,{});const r=De.useSearch().code||"",[o,c]=l.useState(r),[d,i]=l.useState(null),[u,p]=l.useState(!1),{favoriteAirports:b,addFavoriteAirport:ee,removeFavoriteAirport:te,isFavoriteAirport:oe}=Se(),{addToSearchHistory:T,addRecentAirport:P}=Re(),D=o.length===3&&/^[A-Z]{3}$/i.test(o),S=o.length===4&&/^[A-Z]{4}$/i.test(o),{data:ae,isLoading:se,error:re}=Pe(o.toUpperCase(),{enabled:D}),{data:ne,isLoading:ie,error:le}=ke(o.toUpperCase(),{enabled:S}),y=se||ie,k=re||le,h=ae||ne,F=h?[h]:[];l.useEffect(()=>{h&&!y&&(i(h),P(h))},[h,y,P]),l.useEffect(()=>{o&&(D||S)&&T(o,"airport")},[o,D,S,T]);const ce=()=>b.map(m=>m.iata),de=m=>{oe(m.iata)?te(m.iata):ee({iata:m.iata,icao:m.icao,name:m.name,city:m.city,country:m.country})};return e.jsxs("div",{className:"container py-8 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Ie,{className:"h-8 w-8 text-primary"}),e.jsx("h1",{className:"text-3xl font-bold",children:"Airport Explorer"})]}),e.jsx("p",{className:"text-muted-foreground",children:"Search for airports worldwide by their IATA or ICAO codes. Get detailed information including location, elevation, and timezone."})]}),e.jsxs(Ee,{className:"mb-8",children:[e.jsxs(Oe,{children:[e.jsx(we,{children:"Search Airports"}),e.jsx(_e,{children:"Enter an IATA (3-letter) or ICAO (4-letter) airport code"})]}),e.jsxs(Te,{children:[e.jsx(Be,{onSearch:c,placeholder:"Search by IATA or ICAO code...",defaultValue:r,isLoading:y,autoFocus:!r}),e.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[e.jsx("p",{className:"font-medium mb-2",children:"Popular airports to try:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{name:"Los Angeles",iata:"LAX",icao:"KLAX"},{name:"New York JFK",iata:"JFK",icao:"KJFK"},{name:"London Heathrow",iata:"LHR",icao:"EGLL"},{name:"Tokyo Haneda",iata:"HND",icao:"RJTT"},{name:"Dubai",iata:"DXB",icao:"OMDB"},{name:"Singapore",iata:"SIN",icao:"WSSS"}].map(m=>e.jsxs("div",{className:"flex gap-1",children:[e.jsx(v,{variant:"outline",size:"sm",onClick:()=>c(m.iata),className:"h-7",children:m.iata}),e.jsx(v,{variant:"outline",size:"sm",onClick:()=>c(m.icao),className:"h-7",children:m.icao}),e.jsx("span",{className:"text-xs text-muted-foreground self-center ml-1",children:m.name})]},m.iata))})]})]})]}),e.jsxs("div",{className:"mb-8 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(Le,{airports:F,selectedAirport:d,onAirportSelect:i,height:"600px",showControls:!0})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx($e,{airports:F,selectedAirport:d,onAirportSelect:i,title:"Search Results",height:"600px",emptyMessage:o?"No airports found matching your search":"Search for airports to see them listed here",favoriteAirports:ce(),onToggleFavorite:de})})]}),k&&e.jsx(Fe,{title:"Search Error",message:"Unable to search airports. Please try again.",error:k,showDetails:!0}),y&&e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(Me,{text:"Searching airports..."})}),e.jsx(ht,{onClick:()=>p(!0)}),e.jsx(pt,{open:u,onOpenChange:p})]})};export{Tt as component};
