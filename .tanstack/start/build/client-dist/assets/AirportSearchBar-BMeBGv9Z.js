import{r as e,j as t,f as I,B as b,X as E,p as x,t as D}from"./main-D3FOYopS.js";import{I as H}from"./input-Bman6Bvm.js";import{S as P}from"./search-BuBZSaYo.js";import{L as w}from"./config-B6oVgUCR.js";const O=[{iata:"ATL",icao:"KATL",name:"Hartsfield-Jackson Atlanta International",city:"Atlanta",country:"USA"},{iata:"LAX",icao:"KLAX",name:"Los Angeles International",city:"Los Angeles",country:"USA"},{iata:"ORD",icao:"KORD",name:"O'Hare International",city:"Chicago",country:"USA"},{iata:"DFW",icao:"KDFW",name:"Dallas/Fort Worth International",city:"Dallas",country:"USA"},{iata:"DEN",icao:"KDEN",name:"Denver International",city:"Denver",country:"USA"},{iata:"JFK",icao:"KJFK",name:"John F. Kennedy International",city:"New York",country:"USA"},{iata:"SFO",icao:"KSFO",name:"San Francisco International",city:"San Francisco",country:"USA"},{iata:"SEA",icao:"KSEA",name:"Seattle-Tacoma International",city:"Seattle",country:"USA"},{iata:"LAS",icao:"KLAS",name:"Harry Reid International",city:"Las Vegas",country:"USA"},{iata:"MCO",icao:"KMCO",name:"Orlando International",city:"Orlando",country:"USA"},{iata:"EWR",icao:"KEWR",name:"Newark Liberty International",city:"Newark",country:"USA"},{iata:"MIA",icao:"KMIA",name:"Miami International",city:"Miami",country:"USA"},{iata:"PHX",icao:"KPHX",name:"Phoenix Sky Harbor International",city:"Phoenix",country:"USA"},{iata:"IAH",icao:"KIAH",name:"George Bush Intercontinental",city:"Houston",country:"USA"},{iata:"BOS",icao:"KBOS",name:"Logan International",city:"Boston",country:"USA"},{iata:"MSP",icao:"KMSP",name:"Minneapolis−Saint Paul International",city:"Minneapolis",country:"USA"},{iata:"DTW",icao:"KDTW",name:"Detroit Metropolitan",city:"Detroit",country:"USA"},{iata:"FLL",icao:"KFLL",name:"Fort Lauderdale-Hollywood International",city:"Fort Lauderdale",country:"USA"},{iata:"PHL",icao:"KPHL",name:"Philadelphia International",city:"Philadelphia",country:"USA"},{iata:"LGA",icao:"KLGA",name:"LaGuardia",city:"New York",country:"USA"},{iata:"LHR",icao:"EGLL",name:"London Heathrow",city:"London",country:"UK"},{iata:"CDG",icao:"LFPG",name:"Charles de Gaulle",city:"Paris",country:"France"},{iata:"FRA",icao:"EDDF",name:"Frankfurt",city:"Frankfurt",country:"Germany"},{iata:"AMS",icao:"EHAM",name:"Amsterdam Schiphol",city:"Amsterdam",country:"Netherlands"},{iata:"MAD",icao:"LEMD",name:"Adolfo Suárez Madrid–Barajas",city:"Madrid",country:"Spain"},{iata:"BCN",icao:"LEBL",name:"Barcelona–El Prat",city:"Barcelona",country:"Spain"},{iata:"LGW",icao:"EGKK",name:"London Gatwick",city:"London",country:"UK"},{iata:"MUC",icao:"EDDM",name:"Munich",city:"Munich",country:"Germany"},{iata:"FCO",icao:"LIRF",name:"Leonardo da Vinci–Fiumicino",city:"Rome",country:"Italy"},{iata:"IST",icao:"LTFM",name:"Istanbul",city:"Istanbul",country:"Turkey"},{iata:"ZRH",icao:"LSZH",name:"Zurich",city:"Zurich",country:"Switzerland"},{iata:"CPH",icao:"EKCH",name:"Copenhagen",city:"Copenhagen",country:"Denmark"},{iata:"VIE",icao:"LOWW",name:"Vienna International",city:"Vienna",country:"Austria"},{iata:"OSL",icao:"ENGM",name:"Oslo",city:"Oslo",country:"Norway"},{iata:"ARN",icao:"ESSA",name:"Stockholm Arlanda",city:"Stockholm",country:"Sweden"},{iata:"DUB",icao:"EIDW",name:"Dublin",city:"Dublin",country:"Ireland"},{iata:"BRU",icao:"EBBR",name:"Brussels",city:"Brussels",country:"Belgium"},{iata:"LIS",icao:"LPPT",name:"Lisbon",city:"Lisbon",country:"Portugal"},{iata:"HEL",icao:"EFHK",name:"Helsinki",city:"Helsinki",country:"Finland"},{iata:"ATH",icao:"LGAV",name:"Athens International",city:"Athens",country:"Greece"},{iata:"DXB",icao:"OMDB",name:"Dubai International",city:"Dubai",country:"UAE"},{iata:"HND",icao:"RJTT",name:"Tokyo Haneda",city:"Tokyo",country:"Japan"},{iata:"NRT",icao:"RJAA",name:"Narita International",city:"Tokyo",country:"Japan"},{iata:"HKG",icao:"VHHH",name:"Hong Kong International",city:"Hong Kong",country:"Hong Kong"},{iata:"SIN",icao:"WSSS",name:"Singapore Changi",city:"Singapore",country:"Singapore"},{iata:"ICN",icao:"RKSI",name:"Incheon International",city:"Seoul",country:"South Korea"},{iata:"BKK",icao:"VTBS",name:"Suvarnabhumi",city:"Bangkok",country:"Thailand"},{iata:"DEL",icao:"VIDP",name:"Indira Gandhi International",city:"New Delhi",country:"India"},{iata:"PVG",icao:"ZSPD",name:"Shanghai Pudong International",city:"Shanghai",country:"China"},{iata:"PEK",icao:"ZBAA",name:"Beijing Capital International",city:"Beijing",country:"China"},{iata:"CAN",icao:"ZGGG",name:"Guangzhou Baiyun International",city:"Guangzhou",country:"China"},{iata:"KUL",icao:"WMKK",name:"Kuala Lumpur International",city:"Kuala Lumpur",country:"Malaysia"},{iata:"BOM",icao:"VABB",name:"Chhatrapati Shivaji Maharaj International",city:"Mumbai",country:"India"},{iata:"TPE",icao:"RCTP",name:"Taiwan Taoyuan International",city:"Taipei",country:"Taiwan"},{iata:"MNL",icao:"RPLL",name:"Ninoy Aquino International",city:"Manila",country:"Philippines"},{iata:"CGK",icao:"WIII",name:"Soekarno–Hatta International",city:"Jakarta",country:"Indonesia"},{iata:"DOH",icao:"OTHH",name:"Hamad International",city:"Doha",country:"Qatar"},{iata:"AUH",icao:"OMAA",name:"Abu Dhabi International",city:"Abu Dhabi",country:"UAE"},{iata:"BLR",icao:"VOBL",name:"Kempegowda International",city:"Bangalore",country:"India"},{iata:"KIX",icao:"RJBB",name:"Kansai International",city:"Osaka",country:"Japan"},{iata:"SYD",icao:"YSSY",name:"Sydney",city:"Sydney",country:"Australia"},{iata:"MEL",icao:"YMML",name:"Melbourne",city:"Melbourne",country:"Australia"},{iata:"BNE",icao:"YBBN",name:"Brisbane",city:"Brisbane",country:"Australia"},{iata:"AKL",icao:"NZAA",name:"Auckland",city:"Auckland",country:"New Zealand"},{iata:"PER",icao:"YPPH",name:"Perth",city:"Perth",country:"Australia"},{iata:"ADL",icao:"YPAD",name:"Adelaide",city:"Adelaide",country:"Australia"},{iata:"CHC",icao:"NZCH",name:"Christchurch International",city:"Christchurch",country:"New Zealand"},{iata:"WLG",icao:"NZWN",name:"Wellington International",city:"Wellington",country:"New Zealand"},{iata:"YYZ",icao:"CYYZ",name:"Toronto Pearson International",city:"Toronto",country:"Canada"},{iata:"YVR",icao:"CYVR",name:"Vancouver International",city:"Vancouver",country:"Canada"},{iata:"YUL",icao:"CYUL",name:"Montréal–Trudeau International",city:"Montreal",country:"Canada"},{iata:"YYC",icao:"CYYC",name:"Calgary International",city:"Calgary",country:"Canada"},{iata:"YEG",icao:"CYEG",name:"Edmonton International",city:"Edmonton",country:"Canada"},{iata:"YOW",icao:"CYOW",name:"Ottawa Macdonald-Cartier International",city:"Ottawa",country:"Canada"},{iata:"GRU",icao:"SBGR",name:"São Paulo–Guarulhos International",city:"São Paulo",country:"Brazil"},{iata:"MEX",icao:"MMMX",name:"Mexico City International",city:"Mexico City",country:"Mexico"},{iata:"EZE",icao:"SAEZ",name:"Ministro Pistarini International",city:"Buenos Aires",country:"Argentina"},{iata:"GIG",icao:"SBGL",name:"Rio de Janeiro–Galeão International",city:"Rio de Janeiro",country:"Brazil"},{iata:"BOG",icao:"SKBO",name:"El Dorado International",city:"Bogotá",country:"Colombia"},{iata:"LIM",icao:"SPJC",name:"Jorge Chávez International",city:"Lima",country:"Peru"},{iata:"SCL",icao:"SCEL",name:"Arturo Merino Benítez International",city:"Santiago",country:"Chile"},{iata:"CUN",icao:"MMUN",name:"Cancún International",city:"Cancún",country:"Mexico"},{iata:"PTY",icao:"MPTO",name:"Tocumen International",city:"Panama City",country:"Panama"},{iata:"JNB",icao:"FAOR",name:"O. R. Tambo International",city:"Johannesburg",country:"South Africa"},{iata:"CAI",icao:"HECA",name:"Cairo International",city:"Cairo",country:"Egypt"},{iata:"CPT",icao:"FACT",name:"Cape Town International",city:"Cape Town",country:"South Africa"},{iata:"CMN",icao:"GMMN",name:"Mohammed V International",city:"Casablanca",country:"Morocco"},{iata:"ADD",icao:"HAAB",name:"Addis Ababa Bole International",city:"Addis Ababa",country:"Ethiopia"},{iata:"NBO",icao:"HKJK",name:"Jomo Kenyatta International",city:"Nairobi",country:"Kenya"},{iata:"LOS",icao:"DNMM",name:"Murtala Muhammed International",city:"Lagos",country:"Nigeria"},{iata:"TLV",icao:"LLBG",name:"Ben Gurion",city:"Tel Aviv",country:"Israel"},{iata:"JED",icao:"OEJN",name:"King Abdulaziz International",city:"Jeddah",country:"Saudi Arabia"},{iata:"RUH",icao:"OERK",name:"King Khalid International",city:"Riyadh",country:"Saudi Arabia"},{iata:"KWI",icao:"OKBK",name:"Kuwait International",city:"Kuwait City",country:"Kuwait"},{iata:"BAH",icao:"OBBI",name:"Bahrain International",city:"Manama",country:"Bahrain"},{iata:"AMM",icao:"OJAI",name:"Queen Alia International",city:"Amman",country:"Jordan"},{iata:"BEY",icao:"OLBA",name:"Beirut–Rafic Hariri International",city:"Beirut",country:"Lebanon"}];function R({onSearch:o,placeholder:g="Search by IATA or ICAO code...",defaultValue:S="",isLoading:C=!1,className:p,debounceMs:h=300,autoFocus:L=!1}){const[i,m]=e.useState(S),[u,r]=e.useState(!1),[s,l]=e.useState(-1),d=e.useRef(null),y=e.useRef(null),c=e.useMemo(()=>{if(!i||i.length<2)return[];const a=i.toUpperCase();return O.filter(n=>n.iata.includes(a)||n.icao.includes(a)||n.name.toUpperCase().includes(a)||n.city.toUpperCase().includes(a)).slice(0,8)},[i]);e.useEffect(()=>{const a=n=>{d.current&&!d.current.contains(n.target)&&y.current&&!y.current.contains(n.target)&&r(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);const M=e.useCallback(a=>{if(!(!u||c.length===0))switch(a.key){case"ArrowDown":a.preventDefault(),l(n=>n<c.length-1?n+1:0);break;case"ArrowUp":a.preventDefault(),l(n=>n>0?n-1:c.length-1);break;case"Enter":if(a.preventDefault(),s>=0&&s<c.length){const n=c[s];A(n)}else(i.length===3||i.length===4)&&(o(i.toUpperCase()),r(!1));break;case"Escape":r(!1),l(-1);break}},[u,c,s,i,o]),A=e.useCallback(a=>{m(a.iata),o(a.iata),r(!1),l(-1)},[o]),f=e.useCallback(a=>{const n=a.target.value.toUpperCase();if(m(n),r(!0),l(-1),(n.length===3||n.length===4)&&/^[A-Z]+$/.test(n)){const N=setTimeout(()=>{o(n)},h);return()=>clearTimeout(N)}},[o,h]),B=e.useCallback(()=>{var a;m(""),o(""),r(!1),l(-1),(a=y.current)==null||a.focus()},[o]),K=e.useCallback(a=>{a.preventDefault(),(i.length===3||i.length===4)&&(o(i.toUpperCase()),r(!1))},[i,o]);return t.jsxs("form",{onSubmit:K,className:I("relative",p),children:[t.jsxs("div",{className:"relative",children:[t.jsx(P,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),t.jsx(H,{ref:y,type:"text",value:i,onChange:f,onKeyDown:M,onFocus:()=>r(!0),placeholder:g,className:"pl-10 pr-10 uppercase",autoFocus:L,"aria-label":"Search airports","aria-autocomplete":"list","aria-controls":"airport-suggestions","aria-expanded":u&&c.length>0,autoComplete:"off"}),t.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:C?t.jsx(w,{className:"h-4 w-4 animate-spin text-muted-foreground"}):i&&t.jsx(b,{type:"button",variant:"ghost",size:"icon",className:"h-6 w-6",onClick:B,"aria-label":"Clear search",children:t.jsx(E,{className:"h-4 w-4"})})})]}),u&&c.length>0&&t.jsx("div",{ref:d,id:"airport-suggestions",className:"absolute top-full left-0 right-0 z-50 mt-1 max-h-80 overflow-auto rounded-md border bg-popover p-1 shadow-md",role:"listbox",children:c.map((a,n)=>t.jsxs("div",{className:I("flex cursor-pointer items-center gap-3 rounded-sm px-3 py-2 text-sm hover:bg-accent",s===n&&"bg-accent"),onClick:()=>A(a),onMouseEnter:()=>l(n),role:"option","aria-selected":s===n,children:[t.jsx(x,{className:"h-4 w-4 flex-shrink-0 text-muted-foreground"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold",children:a.iata}),t.jsx("span",{className:"text-muted-foreground",children:"•"}),t.jsx("span",{className:"text-muted-foreground",children:a.icao}),t.jsx("span",{className:"text-muted-foreground",children:"•"}),t.jsx("span",{className:"truncate",children:a.name})]}),t.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[t.jsx(D,{className:"h-3 w-3"}),t.jsxs("span",{children:[a.city,", ",a.country]})]})]})]},`${a.iata}-${a.icao}`))}),u&&i.length>0&&i.length<2&&t.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 rounded-md border bg-popover p-3 text-sm text-muted-foreground shadow-sm",children:"Type at least 2 characters to see suggestions"})]})}export{R as A};
