import{c as P,r as i,t as T,j as n,f as L,B as k,X as R,p as O,T as U}from"./main-C72e0wOY.js";import{I as G}from"./input-Dcuoicru.js";import{f,g as j,E as v}from"./LazyComparisonChart-B50SKzJz.js";import{S as F}from"./search-NRKEvCcW.js";import{L as Y}from"./badge-D_v6iEMF.js";/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],V=P("History",J),M=[{iata:"ATL",icao:"KATL",name:"Hartsfield-Jackson Atlanta International",city:"Atlanta",country:"USA"},{iata:"LAX",icao:"KLAX",name:"Los Angeles International",city:"Los Angeles",country:"USA"},{iata:"ORD",icao:"KORD",name:"O'Hare International",city:"Chicago",country:"USA"},{iata:"DFW",icao:"KDFW",name:"Dallas/Fort Worth International",city:"Dallas",country:"USA"},{iata:"DEN",icao:"KDEN",name:"Denver International",city:"Denver",country:"USA"},{iata:"JFK",icao:"KJFK",name:"John F. Kennedy International",city:"New York",country:"USA"},{iata:"SFO",icao:"KSFO",name:"San Francisco International",city:"San Francisco",country:"USA"},{iata:"SEA",icao:"KSEA",name:"Seattle-Tacoma International",city:"Seattle",country:"USA"},{iata:"LAS",icao:"KLAS",name:"Harry Reid International",city:"Las Vegas",country:"USA"},{iata:"MCO",icao:"KMCO",name:"Orlando International",city:"Orlando",country:"USA"},{iata:"EWR",icao:"KEWR",name:"Newark Liberty International",city:"Newark",country:"USA"},{iata:"MIA",icao:"KMIA",name:"Miami International",city:"Miami",country:"USA"},{iata:"PHX",icao:"KPHX",name:"Phoenix Sky Harbor International",city:"Phoenix",country:"USA"},{iata:"IAH",icao:"KIAH",name:"George Bush Intercontinental",city:"Houston",country:"USA"},{iata:"BOS",icao:"KBOS",name:"Logan International",city:"Boston",country:"USA"},{iata:"MSP",icao:"KMSP",name:"Minneapolis−Saint Paul International",city:"Minneapolis",country:"USA"},{iata:"DTW",icao:"KDTW",name:"Detroit Metropolitan",city:"Detroit",country:"USA"},{iata:"FLL",icao:"KFLL",name:"Fort Lauderdale-Hollywood International",city:"Fort Lauderdale",country:"USA"},{iata:"PHL",icao:"KPHL",name:"Philadelphia International",city:"Philadelphia",country:"USA"},{iata:"LGA",icao:"KLGA",name:"LaGuardia",city:"New York",country:"USA"},{iata:"LHR",icao:"EGLL",name:"London Heathrow",city:"London",country:"UK"},{iata:"CDG",icao:"LFPG",name:"Charles de Gaulle",city:"Paris",country:"France"},{iata:"FRA",icao:"EDDF",name:"Frankfurt",city:"Frankfurt",country:"Germany"},{iata:"AMS",icao:"EHAM",name:"Amsterdam Schiphol",city:"Amsterdam",country:"Netherlands"},{iata:"MAD",icao:"LEMD",name:"Adolfo Suárez Madrid–Barajas",city:"Madrid",country:"Spain"},{iata:"BCN",icao:"LEBL",name:"Barcelona–El Prat",city:"Barcelona",country:"Spain"},{iata:"LGW",icao:"EGKK",name:"London Gatwick",city:"London",country:"UK"},{iata:"MUC",icao:"EDDM",name:"Munich",city:"Munich",country:"Germany"},{iata:"FCO",icao:"LIRF",name:"Leonardo da Vinci–Fiumicino",city:"Rome",country:"Italy"},{iata:"IST",icao:"LTFM",name:"Istanbul",city:"Istanbul",country:"Turkey"},{iata:"ZRH",icao:"LSZH",name:"Zurich",city:"Zurich",country:"Switzerland"},{iata:"CPH",icao:"EKCH",name:"Copenhagen",city:"Copenhagen",country:"Denmark"},{iata:"VIE",icao:"LOWW",name:"Vienna International",city:"Vienna",country:"Austria"},{iata:"OSL",icao:"ENGM",name:"Oslo",city:"Oslo",country:"Norway"},{iata:"ARN",icao:"ESSA",name:"Stockholm Arlanda",city:"Stockholm",country:"Sweden"},{iata:"DUB",icao:"EIDW",name:"Dublin",city:"Dublin",country:"Ireland"},{iata:"BRU",icao:"EBBR",name:"Brussels",city:"Brussels",country:"Belgium"},{iata:"LIS",icao:"LPPT",name:"Lisbon",city:"Lisbon",country:"Portugal"},{iata:"HEL",icao:"EFHK",name:"Helsinki",city:"Helsinki",country:"Finland"},{iata:"ATH",icao:"LGAV",name:"Athens International",city:"Athens",country:"Greece"},{iata:"DXB",icao:"OMDB",name:"Dubai International",city:"Dubai",country:"UAE"},{iata:"HND",icao:"RJTT",name:"Tokyo Haneda",city:"Tokyo",country:"Japan"},{iata:"NRT",icao:"RJAA",name:"Narita International",city:"Tokyo",country:"Japan"},{iata:"HKG",icao:"VHHH",name:"Hong Kong International",city:"Hong Kong",country:"Hong Kong"},{iata:"SIN",icao:"WSSS",name:"Singapore Changi",city:"Singapore",country:"Singapore"},{iata:"ICN",icao:"RKSI",name:"Incheon International",city:"Seoul",country:"South Korea"},{iata:"BKK",icao:"VTBS",name:"Suvarnabhumi",city:"Bangkok",country:"Thailand"},{iata:"DEL",icao:"VIDP",name:"Indira Gandhi International",city:"New Delhi",country:"India"},{iata:"PVG",icao:"ZSPD",name:"Shanghai Pudong International",city:"Shanghai",country:"China"},{iata:"PEK",icao:"ZBAA",name:"Beijing Capital International",city:"Beijing",country:"China"},{iata:"CAN",icao:"ZGGG",name:"Guangzhou Baiyun International",city:"Guangzhou",country:"China"},{iata:"KUL",icao:"WMKK",name:"Kuala Lumpur International",city:"Kuala Lumpur",country:"Malaysia"},{iata:"BOM",icao:"VABB",name:"Chhatrapati Shivaji Maharaj International",city:"Mumbai",country:"India"},{iata:"TPE",icao:"RCTP",name:"Taiwan Taoyuan International",city:"Taipei",country:"Taiwan"},{iata:"MNL",icao:"RPLL",name:"Ninoy Aquino International",city:"Manila",country:"Philippines"},{iata:"CGK",icao:"WIII",name:"Soekarno–Hatta International",city:"Jakarta",country:"Indonesia"},{iata:"DOH",icao:"OTHH",name:"Hamad International",city:"Doha",country:"Qatar"},{iata:"AUH",icao:"OMAA",name:"Abu Dhabi International",city:"Abu Dhabi",country:"UAE"},{iata:"BLR",icao:"VOBL",name:"Kempegowda International",city:"Bangalore",country:"India"},{iata:"KIX",icao:"RJBB",name:"Kansai International",city:"Osaka",country:"Japan"},{iata:"SYD",icao:"YSSY",name:"Sydney",city:"Sydney",country:"Australia"},{iata:"MEL",icao:"YMML",name:"Melbourne",city:"Melbourne",country:"Australia"},{iata:"BNE",icao:"YBBN",name:"Brisbane",city:"Brisbane",country:"Australia"},{iata:"AKL",icao:"NZAA",name:"Auckland",city:"Auckland",country:"New Zealand"},{iata:"PER",icao:"YPPH",name:"Perth",city:"Perth",country:"Australia"},{iata:"ADL",icao:"YPAD",name:"Adelaide",city:"Adelaide",country:"Australia"},{iata:"CHC",icao:"NZCH",name:"Christchurch International",city:"Christchurch",country:"New Zealand"},{iata:"WLG",icao:"NZWN",name:"Wellington International",city:"Wellington",country:"New Zealand"},{iata:"YYZ",icao:"CYYZ",name:"Toronto Pearson International",city:"Toronto",country:"Canada"},{iata:"YVR",icao:"CYVR",name:"Vancouver International",city:"Vancouver",country:"Canada"},{iata:"YUL",icao:"CYUL",name:"Montréal–Trudeau International",city:"Montreal",country:"Canada"},{iata:"YYC",icao:"CYYC",name:"Calgary International",city:"Calgary",country:"Canada"},{iata:"YEG",icao:"CYEG",name:"Edmonton International",city:"Edmonton",country:"Canada"},{iata:"YOW",icao:"CYOW",name:"Ottawa Macdonald-Cartier International",city:"Ottawa",country:"Canada"},{iata:"GRU",icao:"SBGR",name:"São Paulo–Guarulhos International",city:"São Paulo",country:"Brazil"},{iata:"MEX",icao:"MMMX",name:"Mexico City International",city:"Mexico City",country:"Mexico"},{iata:"EZE",icao:"SAEZ",name:"Ministro Pistarini International",city:"Buenos Aires",country:"Argentina"},{iata:"GIG",icao:"SBGL",name:"Rio de Janeiro–Galeão International",city:"Rio de Janeiro",country:"Brazil"},{iata:"BOG",icao:"SKBO",name:"El Dorado International",city:"Bogotá",country:"Colombia"},{iata:"LIM",icao:"SPJC",name:"Jorge Chávez International",city:"Lima",country:"Peru"},{iata:"SCL",icao:"SCEL",name:"Arturo Merino Benítez International",city:"Santiago",country:"Chile"},{iata:"CUN",icao:"MMUN",name:"Cancún International",city:"Cancún",country:"Mexico"},{iata:"PTY",icao:"MPTO",name:"Tocumen International",city:"Panama City",country:"Panama"},{iata:"JNB",icao:"FAOR",name:"O. R. Tambo International",city:"Johannesburg",country:"South Africa"},{iata:"CAI",icao:"HECA",name:"Cairo International",city:"Cairo",country:"Egypt"},{iata:"CPT",icao:"FACT",name:"Cape Town International",city:"Cape Town",country:"South Africa"},{iata:"CMN",icao:"GMMN",name:"Mohammed V International",city:"Casablanca",country:"Morocco"},{iata:"ADD",icao:"HAAB",name:"Addis Ababa Bole International",city:"Addis Ababa",country:"Ethiopia"},{iata:"NBO",icao:"HKJK",name:"Jomo Kenyatta International",city:"Nairobi",country:"Kenya"},{iata:"LOS",icao:"DNMM",name:"Murtala Muhammed International",city:"Lagos",country:"Nigeria"},{iata:"TLV",icao:"LLBG",name:"Ben Gurion",city:"Tel Aviv",country:"Israel"},{iata:"JED",icao:"OEJN",name:"King Abdulaziz International",city:"Jeddah",country:"Saudi Arabia"},{iata:"RUH",icao:"OERK",name:"King Khalid International",city:"Riyadh",country:"Saudi Arabia"},{iata:"KWI",icao:"OKBK",name:"Kuwait International",city:"Kuwait City",country:"Kuwait"},{iata:"BAH",icao:"OBBI",name:"Bahrain International",city:"Manama",country:"Bahrain"},{iata:"AMM",icao:"OJAI",name:"Queen Alia International",city:"Amman",country:"Jordan"},{iata:"BEY",icao:"OLBA",name:"Beirut–Rafic Hariri International",city:"Beirut",country:"Lebanon"}];function $({onSearch:o,placeholder:B="Search by IATA or ICAO code...",defaultValue:K="",isLoading:N=!1,className:x,debounceMs:I=300,autoFocus:E=!1}){const[e,h]=i.useState(K),[y,r]=i.useState(!1),[u,s]=i.useState(-1),A=i.useRef(null),m=i.useRef(null),{searchHistory:S,addToSearchHistory:l}=T(),g=i.useMemo(()=>S.filter(t=>t.type==="airport").map(t=>t.query).slice(0,5),[S]),c=i.useMemo(()=>{if(!e||e.length<2)return!e&&g.length>0?g.map(a=>{const d=M.find(C=>C.iata===a||C.icao===a);return d||{iata:a.length===3?a:"",icao:a.length===4?a:"",name:"Search History",city:"Recent search",country:""}}).filter(Boolean).slice(0,5):[];const t=e.toUpperCase();return M.filter(a=>a.iata.includes(t)||a.icao.includes(t)||a.name.toUpperCase().includes(t)||a.city.toUpperCase().includes(t)).slice(0,8)},[e,g]);i.useEffect(()=>{const t=a=>{A.current&&!A.current.contains(a.target)&&m.current&&!m.current.contains(a.target)&&r(!1)};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]);const b=i.useCallback(t=>{if(!(!y||c.length===0))switch(t.key){case"ArrowDown":t.preventDefault(),s(a=>a<c.length-1?a+1:0);break;case"ArrowUp":t.preventDefault(),s(a=>a>0?a-1:c.length-1);break;case"Enter":if(t.preventDefault(),u>=0&&u<c.length){const a=c[u];p(a)}else if(e.length===3||e.length===4){const a=e.toUpperCase();o(a),l(a,"airport"),r(!1)}break;case"Escape":r(!1),s(-1);break}},[y,c,u,e,o,l]),p=i.useCallback(t=>{const a=t.iata||t.icao;h(a),o(a),a&&(a.length===3||a.length===4)&&l(a,"airport"),r(!1),s(-1)},[o,l]),H=i.useCallback(t=>{const a=t.target.value.toUpperCase();if(h(a),r(!0),s(-1),(a.length===3||a.length===4)&&/^[A-Z]+$/.test(a)){const d=setTimeout(()=>{f(a),o(a),l(a,"airport")},I);return()=>clearTimeout(d)}},[o,I,l]),D=i.useCallback(()=>{var t;h(""),o(""),r(!1),s(-1),(t=m.current)==null||t.focus(),j.emit(v.SEARCH_CLEARED)},[o]),w=i.useCallback(t=>{if(t.preventDefault(),e.length===3||e.length===4){const a=e.toUpperCase();f(a),o(a),l(a,"airport"),r(!1)}},[e,o,l]);return n.jsxs("form",{onSubmit:w,className:L("relative",x),children:[n.jsxs("div",{className:"relative",children:[n.jsx(F,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),n.jsx(G,{ref:m,type:"text",value:e,onChange:H,onKeyDown:b,onFocus:()=>r(!0),placeholder:B,className:"pl-10 pr-10 uppercase",autoFocus:E,"aria-label":"Search airports","aria-autocomplete":"list","aria-controls":"airport-suggestions","aria-expanded":y&&c.length>0,autoComplete:"off"}),n.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:N?n.jsx(Y,{className:"h-4 w-4 animate-spin text-muted-foreground"}):e&&n.jsx(k,{type:"button",variant:"ghost",size:"icon",className:"h-6 w-6",onClick:D,"aria-label":"Clear search",children:n.jsx(R,{className:"h-4 w-4"})})})]}),y&&c.length>0&&n.jsx("div",{ref:A,id:"airport-suggestions",className:"absolute top-full left-0 right-0 z-50 mt-1 max-h-80 overflow-auto rounded-md border bg-popover p-1 shadow-md",role:"listbox",children:c.map((t,a)=>n.jsxs("div",{className:L("flex cursor-pointer items-center gap-3 rounded-sm px-3 py-2 text-sm hover:bg-accent",u===a&&"bg-accent"),onClick:()=>p(t),onMouseEnter:()=>s(a),role:"option","aria-selected":u===a,children:[t.name==="Search History"?n.jsx(V,{className:"h-4 w-4 flex-shrink-0 text-muted-foreground"}):n.jsx(O,{className:"h-4 w-4 flex-shrink-0 text-muted-foreground"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-semibold",children:t.iata||t.icao}),t.iata&&t.icao&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-muted-foreground",children:"•"}),n.jsx("span",{className:"text-muted-foreground",children:t.icao})]}),t.name!=="Search History"&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-muted-foreground",children:"•"}),n.jsx("span",{className:"truncate",children:t.name})]})]}),n.jsx("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:t.name==="Search History"?n.jsx("span",{className:"italic",children:"Recent search"}):n.jsxs(n.Fragment,{children:[n.jsx(U,{className:"h-3 w-3"}),n.jsxs("span",{children:[t.city,", ",t.country]})]})})]})]},`${t.iata}-${t.icao}`))}),y&&e.length>0&&e.length<2&&n.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 rounded-md border bg-popover p-3 text-sm text-muted-foreground shadow-sm",children:"Type at least 2 characters to see suggestions"})]})}export{$ as A};
