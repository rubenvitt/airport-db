const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/leaflet-src-CLyGxKQP.js","assets/main-FRew77rr.js","assets/styles-DCEYG_uw.css","assets/index-C4bnHq9r.js"])))=>i.map(i=>d[i]);
import{c as O,r as i,j as e,C as z,t as J,_ as K,B as h,a as he,b as ge,v as F,w as $,P as I,d as w,x as ve,u as B,y as ye,z as je,A as Ne,D as Ce,F as be,E as Ae,G as De,f as _,X,I as q,o as we,J as Ie,K as _e,s as Se,N as Re,O as Ee,h as ke,i as Oe,l as Te,m as Pe}from"./main-FRew77rr.js";import{u as Me,a as Le}from"./useAirports-BytQEvZG.js";import{a as Q,E as Fe}from"./config-D3yqgZa1.js";/* empty css                */import{A as ze}from"./AirportSearchBar-B1nNPm1b.js";import{S as $e,L as Be}from"./LocationList-C8Scv9KO.js";import{B as Ze}from"./badge-CNVQfe9m.js";import"./useQuery-CIK-XuR-.js";import"./circle-alert-B8_bFIsf.js";import"./input-CgAMpbx_.js";import"./search-rfYZXv-I.js";import"./select-BWh5Ffpz.js";import"./navigation-BYzYQWGu.js";import"./globe-C4YJ4B1G.js";/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["polygon",{points:"12 2 19 21 12 17 5 21 12 2",key:"x8c0qg"}]],We=O("Navigation2",Ve);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],He=O("Scale",Ge);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Ke=O("ZoomIn",Ue);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Xe=O("ZoomOut",Je);function qe({airports:t=[],selectedAirport:a,onAirportSelect:n,center:r=[39.8283,-98.5795],zoom:o=4,height:s="500px",showControls:c=!0}){const[m,l]=i.useState(!1),[d,g]=i.useState(null);if(i.useEffect(()=>{l(!0),typeof window<"u"&&(async()=>{const p=await K(()=>import("./leaflet-src-CLyGxKQP.js").then(j=>j.l),__vite__mapDeps([0,1,2])),y=await K(()=>import("./index-C4bnHq9r.js"),__vite__mapDeps([3,1,2,0]));delete p.default.Icon.Default.prototype._getIconUrl,p.default.Icon.Default.mergeOptions({iconRetinaUrl:"/leaflet/marker-icon-2x.png",iconUrl:"/leaflet/marker-icon.png",shadowUrl:"/leaflet/marker-shadow.png"}),g({L:p.default,...y})})()},[]),!m||!d)return e.jsx(z,{className:"overflow-hidden",children:e.jsx("div",{className:"relative flex items-center justify-center",style:{height:s},children:e.jsx(Q,{text:"Loading map..."})})});const{MapContainer:C,TileLayer:P,Marker:M,Popup:S,useMap:b}=d,G=d.L;function A({center:u,zoom:p}){const y=b();return i.useEffect(()=>{y.setView(u,p,{animate:!0,duration:1})},[u,p,y]),null}function D(){const u=b();return e.jsxs("div",{className:"absolute top-4 right-4 z-[1000] flex flex-col gap-1",children:[e.jsx(h,{size:"icon",variant:"secondary",className:"h-8 w-8",onClick:()=>u.zoomIn(),"aria-label":"Zoom in",children:e.jsx(Ke,{className:"h-4 w-4"})}),e.jsx(h,{size:"icon",variant:"secondary",className:"h-8 w-8",onClick:()=>u.zoomOut(),"aria-label":"Zoom out",children:e.jsx(Xe,{className:"h-4 w-4"})}),e.jsx(h,{size:"icon",variant:"secondary",className:"h-8 w-8",onClick:()=>{u.locate({setView:!0,maxZoom:10})},"aria-label":"Go to my location",children:e.jsx(We,{className:"h-4 w-4"})})]})}const R=a?[a.latitude,a.longitude]:r,E=a?13:o,L=new G.Icon({iconUrl:"/leaflet/marker-icon-red.png",shadowUrl:"/leaflet/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});return e.jsx(z,{className:"overflow-hidden",children:e.jsxs("div",{className:"relative",style:{height:s},children:[e.jsxs(C,{center:R,zoom:E,className:"h-full w-full",zoomControl:!1,children:[e.jsx(P,{attribution:'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.jsx(A,{center:R,zoom:E}),c&&e.jsx(D,{}),t.map(u=>{const p=(a==null?void 0:a.iata)===u.iata;return e.jsx(M,{position:[u.latitude,u.longitude],icon:p?L:void 0,eventHandlers:{click:()=>{n==null||n(u)}},children:e.jsx(S,{children:e.jsxs("div",{className:"p-2 min-w-[200px]",children:[e.jsx("h3",{className:"font-semibold text-sm mb-1",children:u.name}),e.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:[u.city,", ",u.region,", ",u.country]}),e.jsxs("div",{className:"flex gap-2 text-xs",children:[e.jsx("span",{className:"font-medium",children:"IATA:"})," ",u.iata,e.jsx("span",{className:"font-medium ml-2",children:"ICAO:"})," ",u.icao]}),e.jsxs("div",{className:"text-xs mt-1",children:[e.jsx("span",{className:"font-medium",children:"Elevation:"})," ",u.elevation_ft.toLocaleString()," ft"]}),e.jsxs("div",{className:"text-xs mt-1",children:[e.jsx("span",{className:"font-medium",children:"Timezone:"})," ",u.timezone]})]})})},`${u.iata}-${u.icao}`)})]}),t.length>0&&e.jsx("div",{className:"absolute bottom-4 left-4 bg-background/90 backdrop-blur-sm rounded-md p-3 shadow-lg z-[1000]",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(J,{className:"h-4 w-4 text-primary"}),e.jsxs("span",{children:[t.length," airport",t.length!==1?"s":""," displayed"]})]})})]})})}var T="Dialog",[Y,Ft]=ge(T),[Qe,x]=Y(T),ee=t=>{const{__scopeDialog:a,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:c=!0}=t,m=i.useRef(null),l=i.useRef(null),[d,g]=he({prop:r,defaultProp:o??!1,onChange:s,caller:T});return e.jsx(Qe,{scope:a,triggerRef:m,contentRef:l,contentId:F(),titleId:F(),descriptionId:F(),open:d,onOpenChange:g,onOpenToggle:i.useCallback(()=>g(C=>!C),[g]),modal:c,children:n})};ee.displayName=T;var te="DialogTrigger",Ye=i.forwardRef((t,a)=>{const{__scopeDialog:n,...r}=t,o=x(te,n),s=B(a,o.triggerRef);return e.jsx(I.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":W(o.open),...r,ref:s,onClick:w(t.onClick,o.onOpenToggle)})});Ye.displayName=te;var Z="DialogPortal",[et,ae]=Y(Z,{forceMount:void 0}),oe=t=>{const{__scopeDialog:a,forceMount:n,children:r,container:o}=t,s=x(Z,a);return e.jsx(et,{scope:a,forceMount:n,children:i.Children.map(r,c=>e.jsx($,{present:n||s.open,children:e.jsx(ve,{asChild:!0,container:o,children:c})}))})};oe.displayName=Z;var k="DialogOverlay",se=i.forwardRef((t,a)=>{const n=ae(k,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,s=x(k,t.__scopeDialog);return s.modal?e.jsx($,{present:r||s.open,children:e.jsx(at,{...o,ref:a})}):null});se.displayName=k;var tt=Ne("DialogOverlay.RemoveScroll"),at=i.forwardRef((t,a)=>{const{__scopeDialog:n,...r}=t,o=x(k,n);return e.jsx(je,{as:tt,allowPinchZoom:!0,shards:[o.contentRef],children:e.jsx(I.div,{"data-state":W(o.open),...r,ref:a,style:{pointerEvents:"auto",...r.style}})})}),v="DialogContent",ne=i.forwardRef((t,a)=>{const n=ae(v,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,s=x(v,t.__scopeDialog);return e.jsx($,{present:r||s.open,children:s.modal?e.jsx(ot,{...o,ref:a}):e.jsx(st,{...o,ref:a})})});ne.displayName=v;var ot=i.forwardRef((t,a)=>{const n=x(v,t.__scopeDialog),r=i.useRef(null),o=B(a,n.contentRef,r);return i.useEffect(()=>{const s=r.current;if(s)return ye(s)},[]),e.jsx(re,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:w(t.onCloseAutoFocus,s=>{var c;s.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:w(t.onPointerDownOutside,s=>{const c=s.detail.originalEvent,m=c.button===0&&c.ctrlKey===!0;(c.button===2||m)&&s.preventDefault()}),onFocusOutside:w(t.onFocusOutside,s=>s.preventDefault())})}),st=i.forwardRef((t,a)=>{const n=x(v,t.__scopeDialog),r=i.useRef(!1),o=i.useRef(!1);return e.jsx(re,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var c,m;(c=t.onCloseAutoFocus)==null||c.call(t,s),s.defaultPrevented||(r.current||(m=n.triggerRef.current)==null||m.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var l,d;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=s.target;((d=n.triggerRef.current)==null?void 0:d.contains(c))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),re=i.forwardRef((t,a)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,...c}=t,m=x(v,n),l=i.useRef(null),d=B(a,l);return Ce(),e.jsxs(e.Fragment,{children:[e.jsx(be,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:e.jsx(Ae,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":W(m.open),...c,ref:d,onDismiss:()=>m.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(nt,{titleId:m.titleId}),e.jsx(it,{contentRef:l,descriptionId:m.descriptionId})]})]})}),V="DialogTitle",ie=i.forwardRef((t,a)=>{const{__scopeDialog:n,...r}=t,o=x(V,n);return e.jsx(I.h2,{id:o.titleId,...r,ref:a})});ie.displayName=V;var le="DialogDescription",ce=i.forwardRef((t,a)=>{const{__scopeDialog:n,...r}=t,o=x(le,n);return e.jsx(I.p,{id:o.descriptionId,...r,ref:a})});ce.displayName=le;var de="DialogClose",ue=i.forwardRef((t,a)=>{const{__scopeDialog:n,...r}=t,o=x(de,n);return e.jsx(I.button,{type:"button",...r,ref:a,onClick:w(t.onClick,()=>o.onOpenChange(!1))})});ue.displayName=de;function W(t){return t?"open":"closed"}var me="DialogTitleWarning",[zt,fe]=De(me,{contentName:v,titleName:V,docsSlug:"dialog"}),nt=({titleId:t})=>{const a=fe(me),n=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return i.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},rt="DialogDescriptionWarning",it=({contentRef:t,descriptionId:a})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${fe(rt).contentName}}.`;return i.useEffect(()=>{var s;const o=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");a&&o&&(document.getElementById(a)||console.warn(r))},[r,t,a]),null},lt=ee,ct=oe,dt=se,ut=ne,mt=ie,ft=ce,xt=ue;function pt({...t}){return e.jsx(lt,{"data-slot":"sheet",...t})}function ht({...t}){return e.jsx(ct,{"data-slot":"sheet-portal",...t})}function gt({className:t,...a}){return e.jsx(dt,{"data-slot":"sheet-overlay",className:_("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function vt({className:t,children:a,side:n="right",...r}){return e.jsxs(ht,{children:[e.jsx(gt,{}),e.jsxs(ut,{"data-slot":"sheet-content",className:_("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...r,children:[a,e.jsxs(xt,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[e.jsx(X,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function yt({className:t,...a}){return e.jsx("div",{"data-slot":"sheet-header",className:_("flex flex-col gap-1.5 p-4",t),...a})}function jt({className:t,...a}){return e.jsx(mt,{"data-slot":"sheet-title",className:_("text-foreground font-semibold",t),...a})}function Nt({className:t,...a}){return e.jsx(ft,{"data-slot":"sheet-description",className:_("text-muted-foreground text-sm",t),...a})}function Ct({open:t,onOpenChange:a}){const{comparedAirports:n,removeFromComparison:r,clearComparison:o}=q(),s=l=>`${l.toLocaleString()} ft (${Math.round(l*.3048)} m)`,c=(l,d)=>`${l.toFixed(4)}Â°, ${d.toFixed(4)}Â°`,m=[{key:"iata",label:"IATA Code"},{key:"icao",label:"ICAO Code"},{key:"name",label:"Name"},{key:"city",label:"City"},{key:"region",label:"Region"},{key:"country",label:"Country"},{key:"elevation_ft",label:"Elevation",format:l=>s(l)},{key:"coordinates",label:"Coordinates",getValue:l=>c(l.latitude,l.longitude)},{key:"timezone",label:"Timezone"}];return e.jsx(pt,{open:t,onOpenChange:a,children:e.jsxs(vt,{className:"w-full sm:max-w-4xl",children:[e.jsxs(yt,{children:[e.jsx(jt,{children:"Compare Airports"}),e.jsx(Nt,{children:"Compare up to 3 airports side by side. Click the X button to remove an airport from comparison."})]}),n.length===0?e.jsx("div",{className:"flex items-center justify-center h-96 text-muted-foreground",children:"No airports selected for comparison"}):e.jsx($e,{className:"h-[calc(100vh-200px)] mt-6",children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(l=>e.jsxs("div",{className:"relative",children:[e.jsx(h,{variant:"ghost",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:()=>r(l.icao),children:e.jsx(X,{className:"h-4 w-4"})}),e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsx("div",{className:"font-semibold text-lg truncate",children:l.name}),e.jsx(we,{}),m.map(d=>e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:d.label}),e.jsx("div",{className:"font-medium",children:d.getValue?d.getValue(l):d.format?d.format(l[d.key]):l[d.key]})]},d.key))]})]},l.icao))})})}),n.length>0&&e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(h,{variant:"outline",onClick:o,children:"Clear All"})})]})})}function bt({onClick:t}){const{comparedAirports:a}=q();return a.length===0?null:e.jsxs(h,{onClick:t,className:"fixed bottom-6 right-6 h-14 px-6 shadow-lg",size:"lg",children:[e.jsx(He,{className:"mr-2 h-5 w-5"}),"Compare",e.jsx(Ze,{variant:"secondary",className:"ml-2",children:a.length})]})}const $t=function(){const a=Ie(),r=_e.useSearch().code||"",[o,s]=i.useState(r),[c,m]=i.useState(null),[l,d]=i.useState(!1),{favoriteAirports:g,addFavoriteAirport:C,removeFavoriteAirport:P,isFavoriteAirport:M}=Se(),{addToSearchHistory:S,addRecentAirport:b}=Re();if(!a({to:"/airports",exact:!0}))return e.jsx(Ee,{});const A=o.length===3&&/^[A-Z]{3}$/i.test(o),D=o.length===4&&/^[A-Z]{4}$/i.test(o),{data:R,isLoading:E,error:L}=Me(o.toUpperCase(),{enabled:A}),{data:u,isLoading:p,error:y}=Le(o.toUpperCase(),{enabled:D}),j=E||p,H=L||y,N=R||u,U=N?[N]:[];i.useEffect(()=>{N&&!j&&(m(N),b(N))},[N,j,b]),i.useEffect(()=>{o&&(A||D)&&S(o,"airport")},[o,A,D,S]);const xe=()=>g.map(f=>f.iata),pe=f=>{M(f.iata)?P(f.iata):C({iata:f.iata,icao:f.icao,name:f.name,city:f.city,country:f.country})};return e.jsxs("div",{className:"container py-8 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(J,{className:"h-8 w-8 text-primary"}),e.jsx("h1",{className:"text-3xl font-bold",children:"Airport Explorer"})]}),e.jsx("p",{className:"text-muted-foreground",children:"Search for airports worldwide by their IATA or ICAO codes. Get detailed information including location, elevation, and timezone."})]}),e.jsxs(z,{className:"mb-8",children:[e.jsxs(ke,{children:[e.jsx(Oe,{children:"Search Airports"}),e.jsx(Te,{children:"Enter an IATA (3-letter) or ICAO (4-letter) airport code"})]}),e.jsxs(Pe,{children:[e.jsx(ze,{onSearch:s,placeholder:"Search by IATA or ICAO code...",defaultValue:r,isLoading:j,autoFocus:!r}),e.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[e.jsx("p",{className:"font-medium mb-2",children:"Popular airports to try:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{name:"Los Angeles",iata:"LAX",icao:"KLAX"},{name:"New York JFK",iata:"JFK",icao:"KJFK"},{name:"London Heathrow",iata:"LHR",icao:"EGLL"},{name:"Tokyo Haneda",iata:"HND",icao:"RJTT"},{name:"Dubai",iata:"DXB",icao:"OMDB"},{name:"Singapore",iata:"SIN",icao:"WSSS"}].map(f=>e.jsxs("div",{className:"flex gap-1",children:[e.jsx(h,{variant:"outline",size:"sm",onClick:()=>s(f.iata),className:"h-7",children:f.iata}),e.jsx(h,{variant:"outline",size:"sm",onClick:()=>s(f.icao),className:"h-7",children:f.icao}),e.jsx("span",{className:"text-xs text-muted-foreground self-center ml-1",children:f.name})]},f.iata))})]})]})]}),e.jsxs("div",{className:"mb-8 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(qe,{airports:U,selectedAirport:c,onAirportSelect:m,height:"600px",showControls:!0})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(Be,{airports:U,selectedAirport:c,onAirportSelect:m,title:"Search Results",height:"600px",emptyMessage:o?"No airports found matching your search":"Search for airports to see them listed here",favoriteAirports:xe(),onToggleFavorite:pe})})]}),H&&e.jsx(Fe,{title:"Search Error",message:"Unable to search airports. Please try again.",error:H,showDetails:!0}),j&&e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(Q,{text:"Searching airports..."})}),e.jsx(bt,{onClick:()=>d(!0)}),e.jsx(Ct,{open:l,onOpenChange:d})]})};export{$t as component};
