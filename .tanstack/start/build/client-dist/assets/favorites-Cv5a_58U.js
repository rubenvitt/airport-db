import{s as g,t as y,r as o,j as s,H as N,C as l,h as c,i as n,m as d,l as p,q as A}from"./main-C72e0wOY.js";import{a as b}from"./badge-D_v6iEMF.js";import{S as w,L as C}from"./LazyComparisonChart-B50SKzJz.js";import"./select-DoP4Ndxy.js";import"./input-Dcuoicru.js";import"./search-NRKEvCcW.js";import"./globe-sbuWZGaV.js";const R=function(){const{favoriteAirports:r}=g(),{recentAirports:t}=y(),[m,x]=o.useState([]),[h,i]=o.useState(!0);return o.useEffect(()=>{const u=async()=>{i(!0);const j=r.map(async e=>{try{const a=await fetch(`/api/airports/${e.iata}`);if(a.ok)return await a.json()}catch(a){console.error(`Failed to fetch airport ${e.iata}:`,a)}return null}),f=[...(await Promise.all(j)).filter(Boolean),...t],v=Array.from(new Map(f.map(e=>[e.iata,e])).values());x(v),i(!1)};r.length>0||t.length>0?u():i(!1)},[r,t]),s.jsxs("div",{className:"container py-8 max-w-6xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(N,{className:"h-8 w-8 text-primary"}),s.jsx("h1",{className:"text-3xl font-bold",children:"My Airports"})]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your favorite airports and quickly access recently viewed airports. Your favorites are saved and will be available when you return."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[s.jsxs(l,{children:[s.jsx(c,{className:"pb-3",children:s.jsxs(n,{className:"text-base flex items-center gap-2",children:[s.jsx(w,{className:"h-4 w-4 text-yellow-500"}),"Favorite Airports"]})}),s.jsxs(d,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r.length}),s.jsx(p,{className:"mt-1",children:"Airports you've starred for quick access"})]})]}),s.jsxs(l,{children:[s.jsx(c,{className:"pb-3",children:s.jsxs(n,{className:"text-base flex items-center gap-2",children:[s.jsx(A,{className:"h-4 w-4 text-blue-500"}),"Recent Airports"]})}),s.jsxs(d,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.length}),s.jsx(p,{className:"mt-1",children:"Airports you've viewed recently"})]})]})]}),h?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(b,{text:"Loading your airports..."})}):s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:s.jsx("div",{className:"lg:col-span-3",children:s.jsx(C,{airports:m,title:"My Airports",height:"600px",useGlobalState:!0,showTabs:!0})})})]})};export{R as component};
