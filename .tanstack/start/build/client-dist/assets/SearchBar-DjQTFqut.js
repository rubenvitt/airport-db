import{r as s,j as t,f as j,B as v,X as N}from"./main-CFvVkEqF.js";import{I as g}from"./input-DBD37HuN.js";import{S as C}from"./search-zl_FgLu0.js";import{a as S}from"./config-rvPVdp9M.js";function B({onSearch:a,placeholder:m="Search...",defaultValue:i="",isLoading:f=!1,className:x,debounceMs:u=300,minLength:r=2,showClearButton:p=!0,autoFocus:d=!1}){const[e,n]=s.useState(i),[o,c]=s.useState(i);s.useEffect(()=>{const l=setTimeout(()=>{c(e)},u);return()=>clearTimeout(l)},[e,u]),s.useEffect(()=>{(o.length>=r||o.length===0)&&a(o)},[o,r,a]);const h=s.useCallback(()=>{n(""),c(""),a("")},[a]),b=s.useCallback(l=>{l.preventDefault(),(e.length>=r||e.length===0)&&(c(e),a(e))},[e,r,a]);return t.jsx("form",{onSubmit:b,className:j("relative flex items-center",x),children:t.jsxs("div",{className:"relative flex-1",children:[t.jsx(C,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),t.jsx(g,{type:"text",value:e,onChange:l=>n(l.target.value),placeholder:m,className:"pl-10 pr-10",autoFocus:d,"aria-label":"Search"}),t.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:f?t.jsx(S,{className:"h-4 w-4 animate-spin text-muted-foreground"}):p&&e&&t.jsx(v,{type:"button",variant:"ghost",size:"icon",className:"h-6 w-6",onClick:h,"aria-label":"Clear search",children:t.jsx(N,{className:"h-4 w-4"})})})]})})}export{B as S};
