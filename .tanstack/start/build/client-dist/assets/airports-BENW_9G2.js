import{c as ee,r as l,a as Le,j as e,b as Ke,v as P,w as F,P as E,d as D,x as Be,u as L,y as ze,z as Ge,A as Ve,D as $e,F as He,E as We,G as Qe,f as w,X as te,I as T,B as S,o as Ze,s as Ue,t as Je,J as Xe,K as Ye,N as qe,O as et,Q as tt,T as Q,C as Z,h as U,i as J,l as X,m as Y}from"./main-C72e0wOY.js";import{E as at}from"./config-CNtJ7dC6.js";import{B as ae}from"./badge-D_v6iEMF.js";import{T as ot,a as st,b as q,C as rt,c as nt,d as it,u as lt,E as ct,e as dt,L as ut}from"./LazyComparisonChart-B50SKzJz.js";import{A as mt}from"./AirportSearchBar-E_w-omnX.js";import{u as ht,a as ft}from"./useAirports-DmeNsRr4.js";import"./circle-alert-Cyw8mw0u.js";import"./select-DoP4Ndxy.js";import"./input-Dcuoicru.js";import"./search-NRKEvCcW.js";import"./globe-sbuWZGaV.js";/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],gt=ee("Scale",pt);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],vt=ee("Table",xt);var M="Dialog",[oe,ra]=Ke(M),[Ct,g]=oe(M),se=t=>{const{__scopeDialog:a,children:s,open:n,defaultOpen:r,onOpenChange:o,modal:u=!0}=t,m=l.useRef(null),h=l.useRef(null),[d,c]=Le({prop:n,defaultProp:r??!1,onChange:o,caller:M});return e.jsx(Ct,{scope:a,triggerRef:m,contentRef:h,contentId:P(),titleId:P(),descriptionId:P(),open:d,onOpenChange:c,onOpenToggle:l.useCallback(()=>c(f=>!f),[c]),modal:u,children:s})};se.displayName=M;var re="DialogTrigger",yt=l.forwardRef((t,a)=>{const{__scopeDialog:s,...n}=t,r=g(re,s),o=L(a,r.triggerRef);return e.jsx(E.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":z(r.open),...n,ref:o,onClick:D(t.onClick,r.onOpenToggle)})});yt.displayName=re;var K="DialogPortal",[jt,ne]=oe(K,{forceMount:void 0}),ie=t=>{const{__scopeDialog:a,forceMount:s,children:n,container:r}=t,o=g(K,a);return e.jsx(jt,{scope:a,forceMount:s,children:l.Children.map(n,u=>e.jsx(F,{present:s||o.open,children:e.jsx(Be,{asChild:!0,container:r,children:u})}))})};ie.displayName=K;var I="DialogOverlay",le=l.forwardRef((t,a)=>{const s=ne(I,t.__scopeDialog),{forceMount:n=s.forceMount,...r}=t,o=g(I,t.__scopeDialog);return o.modal?e.jsx(F,{present:n||o.open,children:e.jsx(Nt,{...r,ref:a})}):null});le.displayName=I;var At=Ve("DialogOverlay.RemoveScroll"),Nt=l.forwardRef((t,a)=>{const{__scopeDialog:s,...n}=t,r=g(I,s);return e.jsx(Ge,{as:At,allowPinchZoom:!0,shards:[r.contentRef],children:e.jsx(E.div,{"data-state":z(r.open),...n,ref:a,style:{pointerEvents:"auto",...n.style}})})}),y="DialogContent",ce=l.forwardRef((t,a)=>{const s=ne(y,t.__scopeDialog),{forceMount:n=s.forceMount,...r}=t,o=g(y,t.__scopeDialog);return e.jsx(F,{present:n||o.open,children:o.modal?e.jsx(bt,{...r,ref:a}):e.jsx(Dt,{...r,ref:a})})});ce.displayName=y;var bt=l.forwardRef((t,a)=>{const s=g(y,t.__scopeDialog),n=l.useRef(null),r=L(a,s.contentRef,n);return l.useEffect(()=>{const o=n.current;if(o)return ze(o)},[]),e.jsx(de,{...t,ref:r,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:D(t.onCloseAutoFocus,o=>{var u;o.preventDefault(),(u=s.triggerRef.current)==null||u.focus()}),onPointerDownOutside:D(t.onPointerDownOutside,o=>{const u=o.detail.originalEvent,m=u.button===0&&u.ctrlKey===!0;(u.button===2||m)&&o.preventDefault()}),onFocusOutside:D(t.onFocusOutside,o=>o.preventDefault())})}),Dt=l.forwardRef((t,a)=>{const s=g(y,t.__scopeDialog),n=l.useRef(!1),r=l.useRef(!1);return e.jsx(de,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var u,m;(u=t.onCloseAutoFocus)==null||u.call(t,o),o.defaultPrevented||(n.current||(m=s.triggerRef.current)==null||m.focus(),o.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:o=>{var h,d;(h=t.onInteractOutside)==null||h.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const u=o.target;((d=s.triggerRef.current)==null?void 0:d.contains(u))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&r.current&&o.preventDefault()}})}),de=l.forwardRef((t,a)=>{const{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:o,...u}=t,m=g(y,s),h=l.useRef(null),d=L(a,h);return $e(),e.jsxs(e.Fragment,{children:[e.jsx(He,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:o,children:e.jsx(We,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":z(m.open),...u,ref:d,onDismiss:()=>m.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(St,{titleId:m.titleId}),e.jsx(wt,{contentRef:h,descriptionId:m.descriptionId})]})]})}),B="DialogTitle",ue=l.forwardRef((t,a)=>{const{__scopeDialog:s,...n}=t,r=g(B,s);return e.jsx(E.h2,{id:r.titleId,...n,ref:a})});ue.displayName=B;var me="DialogDescription",he=l.forwardRef((t,a)=>{const{__scopeDialog:s,...n}=t,r=g(me,s);return e.jsx(E.p,{id:r.descriptionId,...n,ref:a})});he.displayName=me;var fe="DialogClose",pe=l.forwardRef((t,a)=>{const{__scopeDialog:s,...n}=t,r=g(fe,s);return e.jsx(E.button,{type:"button",...n,ref:a,onClick:D(t.onClick,()=>r.onOpenChange(!1))})});pe.displayName=fe;function z(t){return t?"open":"closed"}var ge="DialogTitleWarning",[na,xe]=Qe(ge,{contentName:y,titleName:B,docsSlug:"dialog"}),St=({titleId:t})=>{const a=xe(ge),s=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return l.useEffect(()=>{t&&(document.getElementById(t)||console.error(s))},[s,t]),null},Et="DialogDescriptionWarning",wt=({contentRef:t,descriptionId:a})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xe(Et).contentName}}.`;return l.useEffect(()=>{var o;const r=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");a&&r&&(document.getElementById(a)||console.warn(n))},[n,t,a]),null},Rt=se,kt=ie,It=le,Tt=ce,Mt=ue,Ot=he,_t=pe;function Pt({...t}){return e.jsx(Rt,{"data-slot":"sheet",...t})}function Ft({...t}){return e.jsx(kt,{"data-slot":"sheet-portal",...t})}function Lt({className:t,...a}){return e.jsx(It,{"data-slot":"sheet-overlay",className:w("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function Kt({className:t,children:a,side:s="right",...n}){return e.jsxs(Ft,{children:[e.jsx(Lt,{}),e.jsxs(Tt,{"data-slot":"sheet-content",className:w("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",s==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",s==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",s==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",s==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...n,children:[a,e.jsxs(_t,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[e.jsx(te,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Bt({className:t,...a}){return e.jsx("div",{"data-slot":"sheet-header",className:w("flex flex-col gap-1.5 p-4",t),...a})}function zt({className:t,...a}){return e.jsx(Mt,{"data-slot":"sheet-title",className:w("text-foreground font-semibold",t),...a})}function Gt({className:t,...a}){return e.jsx(Ot,{"data-slot":"sheet-description",className:w("text-muted-foreground text-sm",t),...a})}function Vt({open:t,onOpenChange:a}){const{comparedAirports:s,removeFromComparison:n,clearComparison:r}=T(),[o,u]=l.useState("table"),m=c=>`${c.toLocaleString()} ft (${Math.round(c*.3048)} m)`,h=(c,f)=>`${c.toFixed(4)}°, ${f.toFixed(4)}°`,d=[{key:"iata",label:"IATA Code"},{key:"icao",label:"ICAO Code"},{key:"name",label:"Name"},{key:"city",label:"City"},{key:"region",label:"Region"},{key:"country",label:"Country"},{key:"elevation_ft",label:"Elevation",format:c=>m(c)},{key:"coordinates",label:"Coordinates",getValue:c=>h(c.latitude,c.longitude)},{key:"timezone",label:"Timezone"}];return e.jsx(Pt,{open:t,onOpenChange:a,children:e.jsxs(Kt,{className:"w-full sm:max-w-4xl",children:[e.jsxs(Bt,{children:[e.jsx(zt,{children:"Compare Airports"}),e.jsxs(Gt,{children:["Compare up to 3 airports side by side. Click the X button to remove an airport from comparison.",e.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"Keyboard shortcuts:"})," Cmd/Ctrl+K (toggle panel) • Cmd/Ctrl+Enter (add/remove selected) • Cmd/Ctrl+Shift+C (clear all)"]})]})]}),s.length===0?e.jsx("div",{className:"flex items-center justify-center h-96 text-muted-foreground",children:"No airports selected for comparison"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx(ot,{value:o,onValueChange:c=>u(c),children:e.jsxs(st,{children:[e.jsxs(q,{value:"table",children:[e.jsx(vt,{className:"h-4 w-4 mr-2"}),"Table View"]}),e.jsxs(q,{value:"charts",children:[e.jsx(rt,{className:"h-4 w-4 mr-2"}),"Chart View"]})]})})}),e.jsx(nt,{className:"h-[calc(100vh-250px)] mt-4",children:o==="table"?e.jsx("div",{className:"relative",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(c=>e.jsxs("div",{className:"relative",children:[e.jsx(S,{variant:"ghost",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:()=>n(c.icao),children:e.jsx(te,{className:"h-4 w-4"})}),e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsx("div",{className:"font-semibold text-lg truncate",children:c.name}),e.jsx(Ze,{}),d.map(f=>e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:f.label}),e.jsx("div",{className:"font-medium",children:f.getValue?f.getValue(c):f.format?f.format(c[f.key]):c[f.key]})]},f.key))]})]},c.icao))})}):e.jsx(it,{airports:s})})]}),s.length>0&&e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(S,{variant:"outline",onClick:r,children:"Clear All"})})]})})}function $t({onClick:t}){const{comparedAirports:a}=T();return a.length===0?null:e.jsxs(S,{onClick:t,className:"fixed bottom-6 right-6 h-14 px-6 shadow-lg transition-all duration-300 hover:shadow-xl animate-in",size:"lg",children:[e.jsx(gt,{className:"mr-2 h-5 w-5"}),"Compare",e.jsx(ae,{variant:"secondary",className:"ml-2 transition-transform duration-200 hover:scale-110",children:a.length})]})}function Ht({initialCode:t=""}={}){const[a,s]=l.useState(t),[n,r]=l.useState(null),{favoriteAirports:o,addFavoriteAirport:u,removeFavoriteAirport:m,isFavoriteAirport:h}=Ue(),{searchHistory:d,recentAirports:c,addToSearchHistory:f,addRecentAirport:C}=Je(),{mapState:R,setSelectedAirport:x,updateMapState:j,updateMapCenter:v,updateMapZoom:ve}=Xe(),{setLoading:G,setError:V}=Ye(),{addToComparison:$,removeFromComparison:H,isInComparison:O,comparisonAirports:Ce,canAddMore:ye}=T(),je=a.length===3&&/^[A-Z]{3}$/i.test(a),Ae=a.length===4&&/^[A-Z]{4}$/i.test(a),{data:Ne,isLoading:be,error:De}=ht(a.toUpperCase(),{enabled:je}),{data:Se,isLoading:Ee,error:we}=ft(a.toUpperCase(),{enabled:Ae}),A=be||Ee,_=De||we,p=Ne||Se,k=p?[p]:[],W=R.selectedAirport||n;l.useEffect(()=>{G(A),V(_?"Failed to search airports":null)},[A,_,G,V]),l.useEffect(()=>{p&&!A&&(r(p),x(p),C(p),p.latitude&&p.longitude&&j({center:[p.latitude,p.longitude],zoom:13,selectedAirport:p}))},[p,A,x,C,j]);const Re=l.useCallback(i=>{s(i),i||(r(null),x(null)),(i.length===3||i.length===4)&&/^[A-Z]{3,4}$/i.test(i)&&f(i.toUpperCase(),"airport")},[x,f]),ke=l.useCallback(i=>{r(i),x(i),i&&(C(i),i.latitude&&i.longitude&&j({center:[i.latitude,i.longitude],zoom:13,selectedAirport:i}))},[x,C,j]),Ie=l.useCallback(i=>{h(i.iata)?m(i.iata):u({iata:i.iata,icao:i.icao,name:i.name,city:i.city,country:i.country})},[h,u,m]),Te=l.useCallback(i=>{O(i.icao)?H(i.icao):$(i)},[O,$,H]),Me=l.useCallback((i,N)=>{console.log("Map clicked at:",i,N)},[]),Oe=l.useCallback((i,N,b)=>{console.log("Marker dragged:",i.iata,"to",N,b)},[]),_e=l.useCallback(i=>{switch(i){case"favorites":const N=o.map(b=>b.iata);return c.filter(b=>N.includes(b.iata));case"recent":return c;default:return k}},[k,c,o]),Pe=l.useMemo(()=>o.map(i=>i.iata),[o]),Fe=k.length>0;return{searchQuery:a,setSearchQuery:Re,searchResults:k,isLoading:A,error:_,hasResults:Fe,selectedAirport:W,setSelectedAirport:ke,hasSelection:W!==null,favoriteAirports:o,favoriteAirportCodes:Pe,isFavoriteAirport:h,toggleFavorite:Ie,comparisonAirports:Ce,isInComparison:O,toggleComparison:Te,canAddMore:ye,searchHistory:d,recentAirports:c,mapState:R,updateMapCenter:v,updateMapZoom:ve,updateMapState:j,getDisplayAirports:_e,handleMapClick:Me,handleMarkerDragEnd:Oe}}function Wt(t,a,s){const{addToComparison:n,removeFromComparison:r,isInComparison:o,clearComparison:u,canAddMore:m}=T();l.useEffect(()=>{const h=d=>{d.target instanceof HTMLInputElement||d.target instanceof HTMLTextAreaElement||((d.metaKey||d.ctrlKey)&&d.key==="k"&&(d.preventDefault(),s(!a)),(d.metaKey||d.ctrlKey)&&d.shiftKey&&d.key==="C"&&(d.preventDefault(),u()),(d.metaKey||d.ctrlKey)&&d.key==="Enter"&&t&&(d.preventDefault(),o(t.icao)?r(t.icao):m&&n(t)))};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[t,a,s,n,r,o,u,m]),lt(ct.COMPARISON_UPDATED,()=>{})}const ia=function(){const a=qe(),n=et.useSearch().code||"",[r,o]=l.useState(!1),{searchQuery:u,setSearchQuery:m,searchResults:h,isLoading:d,error:c,selectedAirport:f,setSelectedAirport:C,favoriteAirportCodes:R,toggleFavorite:x}=Ht({initialCode:n});return Wt(f,r,o),a({to:"/airports",exact:!0})?e.jsxs("div",{className:"container py-8 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Q,{className:"h-8 w-8 text-primary"}),e.jsx("h1",{className:"text-3xl font-bold",children:"Airport Explorer"})]}),e.jsx("p",{className:"text-muted-foreground",children:"Search for airports worldwide by their IATA or ICAO codes. Get detailed information including location, elevation, and timezone."})]}),e.jsxs(Z,{className:"mb-8",children:[e.jsxs(U,{children:[e.jsx(J,{children:"Search Airports"}),e.jsx(X,{children:"Enter an IATA (3-letter) or ICAO (4-letter) airport code"})]}),e.jsxs(Y,{children:[e.jsx(mt,{onSearch:m,placeholder:"Search by IATA or ICAO code...",defaultValue:n,isLoading:d,autoFocus:!n}),e.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[e.jsx("p",{className:"font-medium mb-2",children:"Popular airports to try:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{name:"Los Angeles",iata:"LAX",icao:"KLAX"},{name:"New York JFK",iata:"JFK",icao:"KJFK"},{name:"London Heathrow",iata:"LHR",icao:"EGLL"},{name:"Tokyo Haneda",iata:"HND",icao:"RJTT"},{name:"Dubai",iata:"DXB",icao:"OMDB"},{name:"Singapore",iata:"SIN",icao:"WSSS"}].map(v=>e.jsxs("div",{className:"flex gap-1",children:[e.jsx(S,{variant:"outline",size:"sm",onClick:()=>m(v.iata),className:"h-7",children:v.iata}),e.jsx(S,{variant:"outline",size:"sm",onClick:()=>m(v.icao),className:"h-7",children:v.icao}),e.jsx("span",{className:"text-xs text-muted-foreground self-center ml-1",children:v.name})]},v.iata))})]})]})]}),e.jsxs("div",{className:"mb-8 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(Z,{children:[e.jsx(U,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(J,{className:"text-lg",children:"Airport Map"}),e.jsx(X,{className:"text-sm",children:"Click on markers to view airport details"})]}),e.jsxs(ae,{variant:"outline",className:"gap-1",children:[e.jsx(Q,{className:"h-3 w-3"}),"Interactive Map"]})]})}),e.jsx(Y,{className:"p-0",children:e.jsx(dt,{airports:h,selectedAirport:f,onAirportSelect:C,height:"525px",showControls:!0,useGlobalState:!0})})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(ut,{airports:h,selectedAirport:f,onAirportSelect:C,title:"Search Results",height:"600px",emptyMessage:u?"No airports found matching your search":"Search for airports to see them listed here",favoriteAirports:R,onToggleFavorite:x,useGlobalState:!0,showTabs:!1,isLoading:d})})]}),c&&e.jsx(at,{title:"Search Error",message:"Unable to search airports. Please try again.",error:c,showDetails:!0}),e.jsx($t,{onClick:()=>o(!0)}),e.jsx(Vt,{open:r,onOpenChange:o})]}):e.jsx(tt,{})};export{ia as component};
