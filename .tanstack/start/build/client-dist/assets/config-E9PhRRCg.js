import{j as r,f as h,B as d,W as m,a8 as u}from"./main-Bt9JGKqn.js";import{A as f,b as w,c as x}from"./alert-B_6A4nCc.js";import{C as j}from"./circle-alert-Aq6ifIPX.js";function v({title:o="Error",message:i,error:t,onRetry:e,className:c,showDetails:s=!1}){const n=t instanceof Error?t.message:String(t);return r.jsxs(f,{variant:"destructive",className:h("",c),children:[r.jsx(j,{className:"h-4 w-4"}),r.jsx(w,{children:o}),r.jsx(x,{className:"mt-2",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{children:i}),s&&t&&r.jsxs("details",{className:"text-sm",children:[r.jsx("summary",{className:"cursor-pointer hover:text-destructive-foreground",children:"Show error details"}),r.jsx("pre",{className:"mt-2 whitespace-pre-wrap rounded bg-destructive/10 p-2 text-xs",children:n})]}),e&&r.jsxs(d,{onClick:e,variant:"outline",size:"sm",className:"mt-2",children:[r.jsx(m,{className:"mr-2 h-4 w-4"}),"Try Again"]})]})})]})}class p extends Error{constructor(i,t,e){super(i),this.status=t,this.data=e,this.name="ApiError"}}async function y(o,i={}){const{params:t,...e}=i,c=new URL(o);t&&Object.entries(t).forEach(([s,n])=>{if(n!==void 0){const l=u(String(n));c.searchParams.append(s,l)}});try{const s=await fetch(c.toString(),e);if(!s.ok){const l=await s.text();let a=null;try{a=JSON.parse(l)}catch{a={message:l}}throw new p((a==null?void 0:a.error)||`API request failed: ${s.statusText}`,s.status,a)}return await s.json()}catch(s){throw s instanceof p?s:new p(s instanceof Error?s.message:"Unknown error occurred")}}const E={apiNinjas:{baseUrl:"https://api.api-ninjas.com/v1",key:"yCht2E3WowDAz3v2Hn28BQ==7hYVDsQwPCIwiGBN",endpoints:{airports:"/airports"}},openSky:{baseUrl:"https://opensky-network.org/api",username:"your_username_here",password:"your_password_here",endpoints:{allStates:"/states/all",tracks:"/tracks/all",flights:{aircraft:"/flights/aircraft",arrival:"/flights/arrival",departure:"/flights/departure"}}}};export{E as A,v as E,y as f};
